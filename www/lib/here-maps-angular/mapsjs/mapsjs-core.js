(function(){var p,aa=this;
function ba(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}function ca(a){return"string"==typeof a}function da(a){return"function"==ba(a)}function fa(a){return a[ga]||(a[ga]=++ha)}var ga="closure_uid_"+(1E9*Math.random()>>>0),ha=0;function ia(a,b,c){return a.call.apply(a.bind,arguments)}
function ja(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ka(a,b,c){ka=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja;return ka.apply(null,arguments)}
function q(a,b){var c=a.split("."),d=aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function r(a,b){function c(){}c.prototype=b.prototype;a.a=b.prototype;a.prototype=new c;a.prototype.constructor=a};function la(a){var b=ma,c;for(c in b)a.call(void 0,b[c],c,b)}var na="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<na.length;f++)c=na[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var pa=function(){return this}();q("H.lang.inherits",r);q("H.lang.extend",oa);var s=ka;q("H.lang.bind",s);var qa=String;function ra(a){return eval(""+a)}var t=ra(),sa=ra(null);function ta(a,b){return qa(a).split(b!==t?b:" ")}q("H.lang.tokenize",ta);var ua="prototype constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(a,b,c,d){if(!(b=a instanceof b)&&c)throw new y(c,d,void 0!==t?void 0:a);return b}function va(a,b){return v(a,b)&&a.constructor===b}
function wa(a,b){if(!0===va(a,b))throw new TypeError("Illegal constructor "+xa(b));}function ya(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function za(a){var b=ba(a);return"array"==b||"object"==b&&"number"==typeof a.length}function Aa(a,b,c,d,e){if(!(b=Ca(a)===b)&&c)throw new y(c,d,e!==t?e:a);return b}var Da=parseFloat,z=isNaN;function Ea(a){return a===+a}function Fa(a){return!z(+a)}
function Ca(a){var b=Object[ua[0]][ua[6]].call(a).match(/^\[object (\w+)\]$/);return b?b[1]:typeof a}function xa(a,b,c,d){var e="",f=2>arguments.length;f&&(b={H:pa.H},c="",d=[]);Ga(b,!0,function(b,f){var k=b[f];f=Ha(b,k);var l;if(l=!(ya(k)&&k.window===k&&k.self===k))l=!(ya(k)&&0<k.nodeType&&da(k.cloneNode));if(l&&ya(k)){if(k===a)return e=c+"."+f,!0;if(0>d.indexOf(k)&&(d.push(k),e=xa(a,k,c+"."+f,d)))return!0}});f&&(e=e?e.substr(1).replace("."+ua[0]+".","#"):"~"+(da(a)?Ia(a)+"()":Ca(a)));return e}
function Ha(a,b){var c=[];Ga(a,!1,function(a,e){a[e]===b&&c.push(e)});return c.sort(Ja)[0]}function Ja(a,b){return b.length-a.length}function Ga(a,b,c){var d,e;if(a){for(d in a)if((!b||a[ua[2]](d))&&c(a,d,!0))return;for(e=ua.length;e--&&(d=ua[e],b&&!a[ua[2]](d)||!c(a,d,!1)););}}q("H.lang.forEachProp",Ga);function Ia(a){return(a=/^\s*function ([^\( ]+)/.exec(a))?a[1]:"anonymous"}function Ka(a,b,c){c[b]="#"+b};var La=/^\s*(rgb|hsl)a\s*\(.+,([^,]+)\)\s*$/;function Ma(a){return"transparent"!==a&&"none"!==a&&(!La.test(a)||0.002<=pa.RegExp.$2)}var Na=!!pa.VBArray;q("H.util.getSuperProto",function(a){return a.a});q("H.util.eval",function(a){return eval(a)});q("H.util.getValue",function(a,b){return a!==t?a:b});function Oa(a){return/^<svg/.test(a)?"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a):a}q("H.util.svgToDataUrl",Oa);var Pa=0;function Qa(){return!1}function Ra(){}var Sa=[];
function Ta(a){return"CANVAS"===a.tagName?[a]:a.getElementsByTagName("CANVAS")}function Ua(a,b,c){var d;b=a.ownerDocument===b?a.cloneNode(!0):b.importNode(a,!0);if(c)for(a=Ta(a),c=Ta(b),d=c.length;d--;)c[d].getContext("2d").drawImage(a[d],0,0);return b}q("H.util.cloneNode",Ua);function Va(a){return a.parentNode.removeChild(a)}q("H.util.removeNode",Va);var Wa,Xa=document.createElement("CANVAS");Xa.width=Xa.height=1;Wa=Xa.getContext("2d");q("H.util.dummyCanvasContext",Wa);
function Ya(a){var b=a.complete,c=0<a.naturalWidth;if(b&&!c&&Na)try{Wa.drawImage(a,0,0),c=!0}catch(d){}return b&&c};function $a(a){var b,c,d;if(a)for(c in b=v(a,$a),a)c in this&&(d=a[c],d!==this[c]&&("fillColor"===c||0<(d=+d))&&(this[c]=d));a=b?a.Yb:Ma(this.fillColor);a||(this.Yb=a)}q("H.map.ArrowStyle",$a);$a.prototype.Yb=!0;oa($a.prototype,{fillColor:"rgba(255,255,255,.75)",width:1.2,length:1.6,frequency:5});$a.prototype.Je=function(){return new $a(this)};
$a.prototype.G=function(a){var b=this===a;!b&&a&&(b=a.width===this.width&&a.fillColor===this.fillColor&&a.length===this.length&&a.frequency===this.frequency);return b};$a.prototype.equals=$a.prototype.G;function y(a,b,c){var d=arguments.length,e;b=1<d?+b:b;d=2<d?qa(c):"";b!==t&&(e=(e=/.*\(([^\)]+)/.exec((""+a).replace(/(\/\*([\s\S]*?)\*\/)|(\/\/(.*)$)/gm,"")))?ta(e[1].replace(/\s+/g,""),","):[],e.forEach(Ka),e=e[b]||"#"+b);this.message=(a?xa(a):"")+(e||d?" (":"")+(e?"Argument "+e:"")+(d?(e?" ":"")+d:"")+(e||d?")":"")}q("H.lang.InvalidArgumentError",y);y.prototype=Error();y.prototype.name="InvalidArgumentError";var ab=Math,bb=ab.random,cb=ab.min,db=ab.max,eb=ab.round,fb=ab.floor,gb=ab.ceil,hb=ab.abs,ib=ab.log,jb=ab.sqrt,kb=ab.pow,lb=ab.exp,mb=ab.sin,nb=ab.asin,ob=ab.cos,pb=ab.tan,qb=ab.atan,rb=ab.atan2,sb=ab.LN2,tb=ab.PI,ub=tb/2,vb=tb/4,wb=2*tb,xb=3*tb,yb=tb/180,zb=180/tb,Ab=kb(-2,53);function Bb(a,b){var c;return 0>(c=a%b)===0>b?c:c+b}function Cb(a,b,c){return(a-=0)>c?c:a<b?b:a}function Db(a,b,c,d){(d-=0)||(d=0);return b<c?a>=b-d&&a<=c+d:a>=c-d&&a<=b+d}
function Eb(a,b,c,d,e,f){return jb(kb((a-e)*(d-f)-(b-f)*(c-e),2)/(kb(c-e,2)+kb(d-f,2)))}
function Fb(a,b,c,d,e){for(var f=c.length,g=f,h,k,l,m=c[0],n=0,u=0,w=0,x=d/2||0,L=e?1:3;1!=n&&g>L;){h=c[--g];d=c[--g];l=c[g?g-1:(f+(g-1))%f];k=c[g?g-2:(f+(g-2))%f];if(d>=a-x&&d<=a+x&&h>=b-x&&h<=b+x||k>=a-x&&k<=a+x&&l>=b-x&&l<=b+x)n=1;else if(!n&&d===a)k===a&&(h<b&&l>b||h>b&&l<b)||(m<=a&&k>a||m>=a&&k<a)&&(h>=b?++u:++w),n=Db(b,h,l,x)&&Eb(a,b,d,h,k,l)<=x?2:0;else if(!n&&Db(a,d,k,x)){if(d<a&&k>a||d>a&&k<a)m=h+(a-d)/(k-d)*(l-h),u+=m>b,w+=m<b;n=Db(b,h,l,x)&&Eb(a,b,d,h,k,l)<=x?2:0}m=d}return e&&3===n&&n||
n?n:e&&0!==w&&0!==u%2?3:0};var Gb={undefined:"GL",GL:"GL",OL:"OL",SL:"SL",SB:"SB",WE:"WE",WG:"WG"};q("H.geo.AltitudeContext",Gb);function Hb(a,b,c){var d=Cb(+a,-90,90);if(b&&z(d))throw new y(b,c,a);return d}function Ib(a,b,c){var d=+a;if(-180>d||180<d)d=Bb(d+180,360)-180;if(b&&z(d))throw new y(b,c,a);return d}function Jb(a,b,c){var d;if(a!==t&&z(d=+a)&&b)throw new y(b,c,a);return d}function Kb(a,b,c){var d=!Gb[a];if(b&&d)throw new y(b,c,a);return!d}function Lb(a){return!a||z(a.lat)||z(a.lng)?!1:!0};function A(a,b,c,d){this.lat=Hb(a,A,0);this.lng=Ib(b,A,1);c!==t&&(this.alt=Jb(c,A,2));d!==t&&Kb(d,A,3)&&(this.ctx=d)}q("H.geo.Point",A);A.prototype.G=function(a){return this===a||!!a&&this.lat===a.lat&&this.lng===a.lng&&Gb[this.ctx]===Gb[a.ctx]&&(this.alt||0)===(a.alt||0)};A.prototype.equals=A.prototype.G;
A.prototype.distance=function(a){var b,c;this===a||this.lat===a.lat&&this.lng===a.lng?a=0:(b=this.lat*yb,c=a.lat*yb,a=1.274200158E7*nb(cb(1,jb(kb(mb((b-c)/2),2)+ob(b)*ob(c)*kb(mb((this.lng*yb-a.lng*yb)/2),2)))));return a};A.prototype.distance=A.prototype.distance;
A.prototype.Rf=function(a,b,c){var d,e,f,g,h,k;if(c){if(b/=6371000.79){a*=yb;d=yb*this.lat;f=mb(d);g=mb(b);h=ob(b);e=yb*this.lng;var l=ob(d);d=nb(l*ob(a)*g+f*h);a=rb(mb(a)*l*g,h-f*mb(d));l=((e+a+tb)%(2*tb)-tb)*zb}return b?new A(d*zb,(l+540)%360-180):this}a=(a%360+360)%360;if(0===(a+90)%180)return d=this.lng+b/(6371000.79*wb*ob(this.lat*yb))*(270===a?-360:360),new A(this.lat,(d+540)%360-180);if(b/=6371000.79)a*=yb,e=this.lat*yb,f=this.lng*yb,g=e+b*ob(a),h=g-e,d=ib(pb(g/2+vb)/pb(e/2+vb)),d=z(h/d)?ob(e):
h/d,k=b*mb(a)/d,hb(g)>ub&&(g=0<g?tb-g:-(tb+g));return b?new A(g*zb,((f+k+xb+(hb(e+h)>ub?tb:0))%wb-tb)*zb):this};A.prototype.walk=A.prototype.Rf;function Mb(a,b,c){var d=!!a&&!(z(a.lat=Hb(a.lat))||z(a.lng=Ib(a.lng))||a.alt!==t&&z(a.alt=Jb(a.alt))||a.ctx!==t&&!Kb(a.ctx));if(!d&&b)throw new y(b,c,a);return d}A.validate=Mb;function Nb(a){if(!a)throw new y(Nb,0,a);return v(a,A)?a:new A(a.lat,a.lng,a.alt,a.ctx)}A.fromIPoint=Nb;function B(a,b,c,d){Ob(this,Hb(a,B,0),Ib(b,B,1),Hb(c,B,2),Ib(d,B,3))}q("H.geo.Rect",B);B.prototype.G=function(a){return this===a||!!a&&this.r===a.r&&this.j===a.j&&this.q===a.q&&this.n===a.n};B.prototype.equals=B.prototype.G;function Ob(a,b,c,d,e){a.j=c;a.n=e;b<d&&(c=b,b=d,d=c);a.r=b;a.q=d;a.Wc=a.rc=a.Xa=null;return a}B.prototype.gb=function(){this.Wc||(this.Wc=new A(this.r,this.j));return this.Wc};B.prototype.getTopLeft=B.prototype.gb;
B.prototype.$a=function(){this.rc||(this.rc=new A(this.q,this.n));return this.rc};B.prototype.getBottomRight=B.prototype.$a;B.prototype.Ej=function(){return this.r};B.prototype.getTop=B.prototype.Ej;B.prototype.$i=function(){return this.q};B.prototype.getBottom=B.prototype.$i;B.prototype.mj=function(){return this.j};B.prototype.getLeft=B.prototype.mj;B.prototype.Cj=function(){return this.n};B.prototype.getRight=B.prototype.Cj;
B.prototype.W=function(){this.Xa||(this.Xa=new A(this.q+(this.r-this.q)/2,Pb(this.j,this.X())));return this.Xa};B.prototype.getCenter=B.prototype.W;B.prototype.X=function(){return Qb(this.j,this.n)};B.prototype.getWidth=B.prototype.X;B.prototype.Tb=function(){return this.r-this.q};B.prototype.getHeight=B.prototype.Tb;B.prototype.Wb=function(){return this.j>this.n};B.prototype.isCDB=B.prototype.Wb;B.prototype.$g=function(){return!this.X()&&!this.Tb()};B.prototype.isEmpty=B.prototype.$g;
B.prototype.kd=function(a,b,c){var d=this.W();c||(a=Hb(a,this.kd,0),b=Ib(b,this.kd,1));b=this.Ma(a,b,c);a=b.W();return a.lat===d.lat&&a.lng===d.lng&&this.Tb()===b.Tb()&&this.X()===b.X()};B.prototype.containsLatLng=B.prototype.kd;B.prototype.te=function(a,b){b||Mb(a,this.te,0);return this.kd(a.lat,a.lng,b)};B.prototype.containsPoint=B.prototype.te;
B.prototype.ue=function(a,b){var c=this.W(),d,e;if(!b&&!v(a,B))throw new y(this.ue,0,a);e=this.mb(a,b);d=e.W();return d.lat===c.lat&&d.lng===c.lng&&this.Tb()===e.Tb()&&this.X()===e.X()};B.prototype.containsRect=B.prototype.ue;B.prototype.Ma=function(a,b,c,d){if(!c){if(z(a=Hb(a)))throw new y(this.Ma,0,a);if(z(b=Ib(b)))throw new y(this.Ma,1,b);}return Rb(this.r,this.j,this.q,this.n,a,b,a,b,d)};B.prototype.mergeLatLng=B.prototype.Ma;
B.prototype.af=function(a,b,c){b||Mb(a,this.af,0);return this.Ma(a.lat,a.lng,b,c)};B.prototype.mergePoint=B.prototype.af;B.prototype.mb=function(a,b,c){if(!b&&!v(a,B))throw new y(this.mb,0,a);return Rb(this.r,this.j,this.q,this.n,a.r,a.j,a.q,a.n,c)};B.prototype.mergeRect=B.prototype.mb;B.prototype.nb=function(a,b,c,d,e,f){e||(a=Hb(a,this.nb,0),b=Ib(b,this.nb,1),c=Hb(c,this.nb,2),d=Ib(d,this.nb,3));return Rb(this.r,this.j,this.q,this.n,a,b,c,d,f)};B.prototype.mergeTopLeftBottomRight=B.prototype.nb;
B.prototype.Xg=function(a,b){if(!b&&!v(a,B))throw new y(this.Xg,0,a);var c=this.j<=this.n,d=a.j<=a.n,e=this.j<a.n,f=a.j<this.n;return this.q<=a.r&&a.q<=this.r&&(!c&&(!d||e||f)||!d&&(e||f)||e&&f)};B.prototype.intersects=B.prototype.Xg;function Qb(a,b){var c=b-a;return c+(0>c?360:0)}function Pb(a,b){var c=a+b/2;return c-(180<c?360:0)}
function Rb(a,b,c,d,e,f,g,h,k){var l,m,n;c=cb(c,g);a=db(a,e);e=Qb(b,d);l=Pb(b,e);g=Qb(f,h);n=Pb(f,g)-l;n+=0>n-1E-6?360:0;180>n-1E-6?(l=b,m=h):(n=360-n,l=f,m=d);n=n+e/2+g/2;360<=n+5E-7?(l=-180,m=180):n-5E-7<e?(l=b,m=d):n-5E-7<g&&(l=f,m=h);return k?Ob(k,a,l,c,m):new B(a,l,c,m)}B.merge=Rb;function Sb(a,b,c){c||(Mb(a,Sb,0),Mb(b,Sb,1));return new B(a.lat,a.lng,b.lat,b.lng)}B.fromPoints=Sb;
function Tb(a,b){if(!za(a))throw new y(Tb,0,a);var c=1,d=a.length,e,f=null;if(0<d)for(e=a[0],f=Sb(e,e,b);c<d;c++)e=a[c],f.Ma(e.lat,e.lng,b,f);return f}B.coverPoints=Tb;function Ub(a,b){if(!(b||a&&null!=a.length))throw new y(Ub,0,a);var c=3,d=a.length,e;if(0<d)for(e=new B(a[0],a[1],a[0],a[1]);c<d;c+=3)e.Ma(a[c],a[c+1],b,e);return e}B.coverLatLngAlts=Ub;
function Vb(a,b){if(b&&(!a||null==a.length))throw new y(Vb,0,a);var c=1,d=a.length,e;if(0<d)for(e=new B(a[0].r,a[0].j,a[0].q,a[0].n);c<d;c++)e.mb(a[c],b,e);return e}B.coverRects=Vb;B.prototype.Vh=function(a,b){Mb(a,this.Vh,0);var c=this.j,d=this.r,e=this.n,f=this.q,g=this.W().lng,h=a.lat-f-(d-f)/2,k=a.lng-g,k=180<k||-180>k?-(g+a.lng):k,c=c+(0>k?2*k:0),c=-180>c?360+c:c,e=e+(0<k?2*k:0),e=180<e?e-360:e,d=0<h?d+2*h:d;90<=d&&(d=90);f=0>h?f+2*h:f;-90>=f&&(f=-90);return b?Ob(b,d,c,f,e):new B(d,c,f,e)};
B.prototype.resizeToCenter=B.prototype.Vh;function C(a,b){a&&Wb(a,C,0);this.J=null;this.D=a||[];this.Ya=b;this.ra=Xb(this,0,this.D.length)}q("H.geo.Strip",C);function Xb(a,b,c){a=a.D;var d=0;b=db(b,0);c=cb(c,a.length);c-=2;for(b+=1;b<c;)d+=Yb(a[b],a[b+=3]);return d}C.prototype.Bf=function(a,b,c){Zb(this,a,b,c,this.Bf)};C.prototype.pushLatLngAlt=C.prototype.Bf;function Zb(a,b,c,d,e){var f=a.D.length;b=Hb(b,e);c=Ib(c,e);a.D.push(Hb(b,e),Ib(c,e),d===t?0:Jb(d,e));f&&(a.ra+=Yb(a.D[f-2],c));a.J=null}
C.prototype.Yd=function(a,b,c){c&&Wb(c,this.Yd,2);var d;b&&(this.ra-=Xb(this,a-3,a+b+3));d=c?this.D.splice.apply(this.D,[a,b].concat(c)):this.D.splice(a,b);c&&(this.ra+=Xb(this,a-3,a+c.length+3));b&&!c&&(this.ra+=Xb(this,a-3,a-3));this.J=null;return d};C.prototype.spliceLatLngAlts=C.prototype.Yd;C.prototype.Vg=function(a,b,c,d){this.Yd(a,0,[b,c,d])};C.prototype.insertLatLngAlt=C.prototype.Vg;C.prototype.Oh=function(a){this.Yd(a,3)};C.prototype.removeLatLngAlt=C.prototype.Oh;
C.prototype.Cf=function(a){Zb(this,a.lat,a.lng,a.alt,this.Cf)};C.prototype.pushPoint=C.prototype.Cf;C.prototype.yd=function(a,b){this.Vg(3*a,b.lat,b.lng,b.alt)};C.prototype.insertPoint=C.prototype.yd;C.prototype.rk=function(a){this.Oh(3*a)};C.prototype.removePoint=C.prototype.rk;C.prototype.Fe=function(a,b){var c=this.D,d=3*a,e=c[d],f=c[d+1],c=c[d+2];b&&(b.lat=e,b.lng=f,b.alt=c,void 0!==c&&this.Ya&&(b.ctx=this.Ya));return b||new A(e,f,c,null!=c?this.Ya:void 0)};C.prototype.extractPoint=C.prototype.Fe;
C.prototype.wg=function(a,b,c){var d=this.D;b=b||0;for(c=c||d.length;b<c;b+=3)a(d[b],d[b+1],d[2],b/3)};C.prototype.eachLatLngAlt=C.prototype.wg;C.prototype.pd=function(a){var b=this.ra;a&&(a=this.D,b+=Yb(a[a.length-2],a[1]));return b};C.prototype.getDBCs=C.prototype.pd;C.prototype.Ng=function(){return this.D.length/3};C.prototype.getPointCount=C.prototype.Ng;C.prototype.kj=function(){return this.D};C.prototype.getLatLngAltArray=C.prototype.kj;
C.prototype.o=function(){var a;if(!(a=this.J)){a=this.D;var b=a.length,c=3,d,e,f,g,h,k=null,l=Rb;if(3<=b)for(d=e=a[0],f=g=a[1],k=new B(d,f,e,g);c<b;c+=3){d=a[c-3];f=a[c-2];e=a[c];g=a[c+1];if(f>g&&180<g-f||f<g&&-180>f-g||g<f&&180>hb(g-f))h=f,f=g,g=h;d<e&&(h=d,d=e,e=h);l(k.r,k.j,k.q,k.n,d,f,e,g,k)}a=this.J=k}return a};C.prototype.getBounds=C.prototype.o;C.prototype.Kj=function(){return null!==this.J};C.prototype.hasBounds=C.prototype.Kj;
function Wb(a,b,c){for(var d=a.length,e=!(d%3),f;e&&d;)e=!(z(a[--d]=Jb((f=a[d])===t?0:f))||z(a[--d]=Ib(a[d]))||z(a[--d]=Hb(a[d])));if(!e&&b)throw new y(b,c,a);}function Yb(a,b){return 0>a/b&&180<hb(b-a)}C.isDBC=Yb;function $b(a){var b=new C,c=0,d=a.length;if(d%2)throw new y($b,0,a);for(;c<d;)Zb(b,a[c++],a[c++],0,$b);return b}C.fromLatLngArray=$b;function ac(a,b,c,d,e){this.Oi=a||10;this.hb=this.wc=this.Xh=null;this.kg=d||0;this.lg=e||0;this.Kh=b||1;this.Lh=c||1;this.flush()}function bc(a,b){for(var c,d,e,f,g,h,k,l=0,m,n,u=4,w;u--;){w=u+4;g=[];c=+!(u%3);h=b[u];for(m=(d=a[u]).length;m--;){e=d[m];if(f=e.d)for(n=f.length;n--;)((k=f[n][u])>h)-c&&(h=k);for(n=4;n--;)if(f=e[n])c?f[w]<h&&g.push(f):f[w]>h&&g.push(f)}l+=g.length;b[u]=h;a[u]=g}l&&(b=bc(a,b));return b}
ac.prototype.flush=function(){this.hb=this.Xh=new cc(null,0,this.kg-this.Kh,this.lg-this.Lh,this.kg+this.Kh,this.lg+this.Lh);this.wc=null};ac.prototype.remove=function(a){var b,c=a.Ih,d=c.d;if(d&&(b=d.indexOf(a),-1!==b&&(d.splice(b,1),!d.length))){delete c.d;for(var e=this.hb;(d=c.Ld)&&!(c.d||c[0]||c[1]||c[2]||c[3]);)c===e&&(e=d),delete c.Ld,delete d[c.pi],c=d;this.hb=e;dc(this)}(b=0<=b)&&ec(this,a,!1);return b};
function ec(a,b,c){var d,e;if(d=a.wc)for(e=4;e--;)if(e%3?b[e]>=d[e]:b[e]<=d[e])if(c)d[e]=b[e];else{a.wc=null;break}}ac.prototype.jb=function(a,b,c,d,e,f){var g=a[8],h=a[9];f&&(d<g||d<a[5]&&b>=g)&&(e<h||e<a[6]&&c>=h)?b=this.jb(fc(a,(c>=h?2:0)|b>=g),b,c,d,e,f-1):(b=new gc(a,b,c,d,e),(a.d||(a.d=[])).push(b),ec(this,b,!0),dc(this,a));return b};
function dc(a,b){var c=a.hb,d;if(b){if(d=b,d!==c)for(c=d;d=d.Ld;)if(d.d||3>!d[0]+!d[1]+!d[2]+!d[3])c=d}else for(;!c.d&&2< !c[0]+!c[1]+!c[2]+!c[3];)if(d=c[0]||c[1]||c[2]||c[3])c=d;else break;a.hb=c}ac.prototype.Y=function(a,b,c,d){var e=[];hc(this,this.hb,e,a,b,c,d);return e};
function hc(a,b,c,d,e,f,g){var h,k,l=b.d;k=b[7];var m=b[8],n=b[5],u=b[4],w=b[9],x=b[6],L;if(l)if(h=l.length,d>k||f<n||e>u||g<x)for(;h--;)k=l[h],n=k[3],u=k[0],x=k[1],L=k[2],n>f||x<d||u>g||L<e||c.push(k);else for(;h--;)c.push(l[h]);f>=m&&(e<=w&&b[1]&&hc(a,b[1],c,d,e,f,g),g>=w&&b[3]&&hc(a,b[3],c,d,e,f,g));d<=m&&(e<=w&&b[0]&&hc(a,b[0],c,d,e,f,g),g>=w&&b[2]&&hc(a,b[2],c,d,e,f,g))}
function cc(a,b,c,d,e,f){a?(this.Ld=a,this.pi=b,b&1?(c=a[8],e=a[5]):(c=a[7],e=a[8]),b&2?(d=a[9],f=a[6]):(d=a[4],f=a[9])):this.pi=this.Ld=null;this[7]=c;this[5]=e;this[8]=(c+e)/2;this[4]=d;this[6]=f;this[9]=(d+f)/2}function fc(a,b){return a[b]||(a[b]=new cc(a,b))}function gc(a,b,c,d,e){this.id=++ic;this.Ih=a;this[0]=c;this[1]=d;this[2]=e;this[3]=b}var ic=0;function jc(a){this.de=new ac(+a||10,180,90,0,0);this.hd=[];this.Se=!1;this.Wa=this.Cb=this.J=null}p=jc.prototype;p.Ob=0;p.Wb=function(){return this.Se};
p.o=function(){var a,b,c;if(!this.J){c=[];var d;if(d=!this.Cb){a=this.de;var e;!(e=a.wc)&&(d=a.hb,d.d||d[0]||d[1]||d[2]||d[3])&&(e=[d],e=bc([e,e,e,e],[d[6],d[7],d[4],d[5]]),a.wc=e);d=a=e}d&&(this.Cb=new B(-a[0],a[3],-a[2],a[1]));(b=this.Cb)&&c.push(b);var f,g,h,k;if(!this.Wa&&(k=(g=this.hd).length)){a=90;d=360;e=-90;for(f=0;k--;)h=g[k],a=cb(a,h[0]),d=cb(d,h[3]),e=db(e,h[2]),f=db(f,h[1]);this.Wa=new B(-a,d,-e,f-360)}(b=this.Wa)&&c.push(b);if(b=c[0])c[1]&&(b=b.mb(c[1],!0)),this.J=b}return this.J};
p.jb=function(a,b,c,d,e){e?(e=new gc(null,d,-a,b+360,-c),this.hd.push(e),this.Se=!0,this.Wa&&this.Wa.nb(a,b,c,d,!0,this.Wa)):(e=this.de,e=e.jb(e.Xh,b,-a,d,-c,e.Oi),this.Cb&&this.Cb.nb(a,b,c,d,!0,this.Cb));++this.Ob;this.J=null;return e};p.yd=function(a){var b=a.lng;a=a.lat;return this.jb(a,b,a,b,!1)};p.remove=function(a){var b,c=!1;if(a.Ih)c=this.de.remove(a),this.Cb=null;else if(a=(b=this.hd).indexOf(a),c=0<=a)b.splice(a,1),this.Se=0<b.length,this.Wa=null;c&&(--this.Ob,this.J=null);return c};
function kc(a,b,c,d,e){a=a.hd;var f=a.length,g,h=[],k,l;if(f)for(k=c+360,l=e+360;f--;)g=a[f],lc(g,b,c,d,e)?h.push(g):lc(g,b,k,d,l)&&h.push(g);return h}function lc(a,b,c,d,e){var f=a[0],g=a[1],h=a[2];return!(a[3]>e||g<c||f>d||h<b)}function mc(a,b){var c,d,e,f;if(d=b.length){c=a.length;for(e={};c--;)e[a[c].id]=1;for(;d--;)(f=b[d]).id in e||a.push(f)}}
function nc(a,b){var c=a.de,d=b.gb(),e=b.$a(),f=-d.lat,d=d.lng,g=-e.lat,e=e.lng,h;b.Wb()?(h=c.Y(-180,f,e,g),mc(h,c.Y(d,f,180,g)),mc(h,kc(a,f,e,g,d+360))):(h=c.Y(d,f,e,g),mc(h,kc(a,f,d,g,e)));return h};function D(){}q("H.map.provider.Invalidations",D);D.MARK_INITIAL=Ab;D.prototype.update=function(a,b){b!==oc.NONE&&(this.Hb=a,b&oc.SPATIAL&&(this.ni=a),b&oc.VISUAL&&(this.ti=a),b&oc.ADD&&(this.fg=a),b&oc.REMOVE&&(this.Ph=a),b&oc.Z_ORDER&&(this.yi=a))};D.prototype.update=D.prototype.update;D.prototype.oj=function(){return this.Hb};D.prototype.getMark=D.prototype.oj;D.prototype.Hb=Ab;D.prototype.Re=function(a){return this.Hb>a};D.prototype.isAny=D.prototype.Re;D.prototype.ti=Ab;
D.prototype.Dc=function(a){return this.ti>a};D.prototype.isVisual=D.prototype.Dc;D.prototype.ni=Ab;D.prototype.Ad=function(a){return this.ni>a};D.prototype.isSpatial=D.prototype.Ad;D.prototype.fg=Ab;D.prototype.Yg=function(a){return this.fg>a};D.prototype.isAdd=D.prototype.Yg;D.prototype.Ph=Ab;D.prototype.bh=function(a){return this.Ph>a};D.prototype.isRemove=D.prototype.bh;D.prototype.yi=Ab;D.prototype.We=function(a){return this.yi>a};D.prototype.isZOrder=D.prototype.We;
var oc={NONE:0,VISUAL:1,SPATIAL:2,ADD:4,REMOVE:8,Z_ORDER:16};D.Flag=oc;function pc(){0!=qc&&(rc[fa(this)]=this)}var qc=0,rc={};pc.prototype.ug=!1;pc.prototype.g=function(){if(!this.ug&&(this.ug=!0,this.c(),0!=qc)){var a=fa(this);delete rc[a]}};pc.prototype.Gb=function(a,b){this.Kc||(this.Kc=[]);this.Kc.push(ka(a,b))};pc.prototype.c=function(){if(this.Kc)for(;this.Kc.length;)this.Kc.shift()()};function sc(a,b){this.type=a;this.currentTarget=this.target=b}p=sc.prototype;p.c=function(){};p.g=function(){};p.ub=!1;p.defaultPrevented=!1;p.Td=!0;p.stopPropagation=function(){this.ub=!0};p.preventDefault=function(){this.defaultPrevented=!0;this.Td=!1};q("H.util.Event",sc);sc.prototype.stopPropagation=sc.prototype.stopPropagation;sc.prototype.stopPropagation=sc.prototype.stopPropagation;sc.prototype.CAPTURING_PHASE=1;sc.prototype.AT_TARGET=2;sc.prototype.BUBBLING_PHASE=3;sc.prototype.eventPhase=0;function tc(a,b,c){tc.a.constructor.call(this,a);this.oldValue=c;this.newValue=b}r(tc,sc);q("H.util.ChangeEvent",tc);function uc(a,b){var c=[];a&&c.push(xa(a));1<arguments.length&&c.push(b);this.message=c.join(" ")}r(uc,Error);q("H.lang.IllegalOperationError",uc);uc.prototype=Error();uc.prototype.name="IllegalOperationError";function vc(a,b){return a<b?-1:a>b?1:0};var wc=0;function xc(){}p=xc.prototype;p.key=0;p.vb=!1;p.fd=!1;p.xd=function(a,b,c,d,e,f){if(da(a))this.ah=!0;else if(a&&a.handleEvent&&da(a.handleEvent))this.ah=!1;else throw Error("Invalid listener argument");this.La=a;this.Gh=b;this.src=c;this.type=d;this.Q=!!e;this.Pe=f;this.fd=!1;this.key=++wc;this.vb=!1};p.handleEvent=function(a){return this.ah?this.La.call(this.Pe||this.src,a):this.La.handleEvent.call(this.La,a)};var yc,zc,Ac,Bc;function Cc(){return aa.navigator?aa.navigator.userAgent:null}Bc=Ac=zc=yc=!1;var Dc;if(Dc=Cc()){var Ec=aa.navigator;yc=0==Dc.indexOf("Opera");zc=!yc&&-1!=Dc.indexOf("MSIE");Ac=!yc&&-1!=Dc.indexOf("WebKit");Bc=!yc&&!Ac&&"Gecko"==Ec.product}var Fc=yc,Gc=zc,Hc=Bc,Ic=Ac;function Jc(){var a=aa.document;return a?a.documentMode:void 0}var Kc;
a:{var Lc="",Mc;if(Fc&&aa.opera)var Nc=aa.opera.version,Lc="function"==typeof Nc?Nc():Nc;else if(Hc?Mc=/rv\:([^\);]+)(\)|;)/:Gc?Mc=/MSIE\s+([^\);]+)(\)|;)/:Ic&&(Mc=/WebKit\/(\S+)/),Mc)var Oc=Mc.exec(Cc()),Lc=Oc?Oc[1]:"";if(Gc){var Pc=Jc();if(Pc>parseFloat(Lc)){Kc=String(Pc);break a}}Kc=Lc}var Qc={};
function Rc(a){var b;if(!(b=Qc[a])){b=0;for(var c=String(Kc).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",k=/(\d*)(\D*)/g,l=/(\d*)(\D*)/g;do{var m=k.exec(g)||["","",""],n=l.exec(h)||["","",""];if(0==m[0].length&&0==n[0].length)break;b=vc(0==m[1].length?0:parseInt(m[1],10),0==n[1].length?0:parseInt(n[1],10))||vc(0==m[2].length,0==n[2].length)||vc(m[2],n[2])}while(0==
b)}b=Qc[a]=0<=b}return b}var Sc=aa.document,Tc=Sc&&Gc?Jc()||("CSS1Compat"==Sc.compatMode?parseInt(Kc,10):5):void 0;var Uc;(Uc=!Gc)||(Uc=Gc&&9<=Tc);var Vc=Uc,Wc=Gc&&!Rc("9");!Ic||Rc("528");Hc&&Rc("1.9b")||Gc&&Rc("8")||Fc&&Rc("9.5")||Ic&&Rc("528");Hc&&!Rc("8")||Gc&&Rc("9");var Xc=Array.prototype,Yc=Xc.indexOf?function(a,b,c){return Xc.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(ca(a))return ca(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};function Zc(a){Zc[" "](a);return a}Zc[" "]=function(){};function $c(a,b){a&&this.xd(a,b)}r($c,sc);p=$c.prototype;p.target=null;p.relatedTarget=null;p.offsetX=0;p.offsetY=0;p.clientX=0;p.clientY=0;p.screenX=0;p.screenY=0;p.button=0;p.keyCode=0;p.charCode=0;p.ctrlKey=!1;p.altKey=!1;p.shiftKey=!1;p.metaKey=!1;p.vc=null;
p.xd=function(a,b){var c=this.type=a.type;sc.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Hc){var e;a:{try{Zc(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=Ic||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=Ic||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:
a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.vc=a;a.defaultPrevented&&this.preventDefault();delete this.ub};p.stopPropagation=function(){$c.a.stopPropagation.call(this);this.vc.stopPropagation?this.vc.stopPropagation():this.vc.cancelBubble=!0};
p.preventDefault=function(){$c.a.preventDefault.call(this);var a=this.vc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Wc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};p.c=function(){};var ma={},ad={},bd={},cd={};function dd(a,b,c,d,e){if("array"==ba(b)){for(var f=0;f<b.length;f++)dd(a,b[f],c,d,e);return null}a=ed(a,b,c,!1,d,e);b=a.key;ma[b]=a;return b}
function ed(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");e=!!e;var g=ad;b in g||(g[b]={ea:0,M:0});g=g[b];e in g||(g[e]={ea:0,M:0},g.ea++);var g=g[e],h=fa(a),k;g.M++;if(g[h]){k=g[h];for(var l=0;l<k.length;l++)if(g=k[l],g.La==c&&g.Pe==f){if(g.vb)break;d||(k[l].fd=!1);return k[l]}}else k=g[h]=[],g.ea++;l=fd();g=new xc;g.xd(c,l,a,b,e,f);g.fd=d;l.src=a;l.La=g;k.push(g);bd[h]||(bd[h]=[]);bd[h].push(g);a.addEventListener?a!=aa&&a.customEvent_||a.addEventListener(b,l,e):a.attachEvent(b in cd?cd[b]:
cd[b]="on"+b,l);return g}function fd(){var a=gd,b=Vc?function(c){return a.call(b.src,b.La,c)}:function(c){c=a.call(b.src,b.La,c);if(!c)return c};return b}function hd(a,b,c,d,e){if("array"==ba(b)){for(var f=0;f<b.length;f++)hd(a,b[f],c,d,e);return null}a=ed(a,b,c,!0,d,e);b=a.key;ma[b]=a;return b}
function id(a,b,c,d,e){if("array"==ba(b)){for(var f=0;f<b.length;f++)id(a,b[f],c,d,e);return null}d=!!d;a:{f=ad;if(b in f&&(f=f[b],d in f&&(f=f[d],a=fa(a),f[a]))){a=f[a];break a}a=null}if(!a)return!1;for(f=0;f<a.length;f++)if(a[f].La==c&&a[f].Q==d&&a[f].Pe==e)return jd(a[f].key);return!1}
function jd(a){var b=ma[a];if(!b||b.vb)return!1;var c=b.src,d=b.type,e=b.Gh,f=b.Q;c.removeEventListener?c!=aa&&c.customEvent_||c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in cd?cd[d]:cd[d]="on"+d,e);c=fa(c);if(bd[c]){var e=bd[c],g=Yc(e,b);0<=g&&Xc.splice.call(e,g,1);0==e.length&&delete bd[c]}b.vb=!0;if(b=ad[d][f][c])b.th=!0,kd(d,f,c,b);delete ma[a];return!0}
function kd(a,b,c,d){if(!d.Bd&&d.th){for(var e=0,f=0;e<d.length;e++)d[e].vb?d[e].Gh.src=null:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.th=!1;0==f&&(delete ad[a][b][c],ad[a][b].ea--,0==ad[a][b].ea&&(delete ad[a][b],ad[a].ea--),0==ad[a].ea&&delete ad[a])}}function ld(a){var b=0;if(null!=a){if(a=fa(a),bd[a]){a=bd[a];for(var c=a.length-1;0<=c;c--)jd(a[c].key),b++}}else la(function(a,c){jd(c);b++})}
function md(a,b,c,d,e){var f=1;b=fa(b);if(a[b]){var g=--a.M,h=a[b];h.Bd?h.Bd++:h.Bd=1;try{for(var k=h.length,l=0;l<k;l++){var m=h[l];m&&!m.vb&&(f&=!1!==nd(m,e))}}finally{a.M=Math.max(g,a.M),h.Bd--,kd(c,d,b,h)}}return Boolean(f)}function nd(a,b){a.fd&&jd(a.key);return a.handleEvent(b)}
function od(a,b){var c=b.type||b,d=ad;if(!(c in d))return!0;if(ca(b))b=new sc(b,a);else if(b instanceof sc)b.target=b.target||a;else{var e=b;b=new sc(c,a);oa(b,e)}var e=1,f,d=d[c],c=!0 in d,g;if(c){f=[];for(g=a;g;g=g.fb())f.push(g);g=d[!0];g.M=g.ea;for(var h=f.length-1;!b.ub&&0<=h&&g.M;h--)b.currentTarget=f[h],e&=md(g,f[h],b.type,!0,b)&&!1!=b.Td}if(!1 in d)if(g=d[!1],g.M=g.ea,c)for(h=0;!b.ub&&h<f.length&&g.M;h++)b.currentTarget=f[h],e&=md(g,f[h],b.type,!1,b)&&!1!=b.Td;else for(d=a;!b.ub&&d&&g.M;d=
d.fb())b.currentTarget=d,e&=md(g,d,b.type,!1,b)&&!1!=b.Td;return Boolean(e)}
function gd(a,b){if(a.vb)return!0;var c=a.type,d=ad;if(!(c in d))return!0;var d=d[c],e,f;if(!Vc){var g;if(!(g=b))a:{g=["window","event"];for(var h=aa;e=g.shift();)if(null!=h[e])h=h[e];else{g=null;break a}g=h}e=g;g=!0 in d;h=!1 in d;if(g){if(0>e.keyCode||void 0!=e.returnValue)return!0;a:{var k=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(l){k=!0}if(k||void 0==e.returnValue)e.returnValue=!0}}k=new $c;k.xd(e,this);e=!0;try{if(g){for(var m=[],n=k.currentTarget;n;n=n.parentNode)m.push(n);f=d[!0];
f.M=f.ea;for(var u=m.length-1;!k.ub&&0<=u&&f.M;u--)k.currentTarget=m[u],e&=md(f,m[u],c,!0,k);if(h)for(f=d[!1],f.M=f.ea,u=0;!k.ub&&u<m.length&&f.M;u++)k.currentTarget=m[u],e&=md(f,m[u],c,!1,k)}else e=nd(a,k)}finally{m&&(m.length=0)}return e}c=new $c(b,this);return e=nd(a,c)};function E(){pc.call(this)}r(E,pc);E.prototype.customEvent_=!0;p=E.prototype;p.wf=null;p.fb=function(){return this.wf};p.U=function(a){this.wf=a};p.addEventListener=function(a,b,c,d){dd(this,a,b,c,d)};p.removeEventListener=function(a,b,c,d){id(this,a,b,c,d)};p.dispatchEvent=function(a){return od(this,a)};p.c=function(){E.a.c.call(this);ld(this);this.wf=null};q("H.util.EventTarget",E);E.prototype.U=E.prototype.U;E.prototype.setParentEventTarget=E.prototype.U;E.prototype.fb=E.prototype.fb;E.prototype.getParentEventTarget=E.prototype.fb;E.prototype.addEventListener=E.prototype.addEventListener;E.prototype.addEventListener=E.prototype.addEventListener;E.prototype.removeEventListener=E.prototype.removeEventListener;E.prototype.removeEventListener=E.prototype.removeEventListener;E.prototype.dispatchEvent=E.prototype.dispatchEvent;
E.prototype.dispatchEvent=E.prototype.dispatchEvent;E.prototype.g=E.prototype.g;E.prototype.dispose=E.prototype.g;E.prototype.Gb=E.prototype.Gb;E.prototype.addOnDisposeCallback=E.prototype.Gb;function F(a){var b;wa(this,F);F.a.constructor.call(this);this.ib=pd++;a&&(b="min",Ea(a[b])&&(this.sh=a[b]),b="max",Ea(a[b])&&(this.qh=a[b]),b="visibility",b in a&&(this.ee=!!a[b]),b="zIndex",b in a&&(this.Yc=+a[b]||0),b="provider",b in a&&(this.k=a[b],this.C(oc.ADD)),b="data",b in a&&this.setData(a[b]))}r(F,E);q("H.map.Object",F);var qd={ANY:0,SPATIAL:1,MARKER:2,DOM_MARKER:3,GROUP:4};F.Type=qd;F.prototype.b={Ei:"visibilitychange",Fi:"zindexchange"};var pd=Ab;F.prototype.hj=function(){return this.ib};
F.prototype.getId=F.prototype.hj;F.prototype.sh=-1/0;F.prototype.qh=1/0;F.prototype.ee=!0;F.prototype.setVisibility=function(a){var b=this.ee;(a=!!a)^b&&(this.ee=a,this.invalidate(oc.VISUAL),this.dispatchEvent(new tc(this.b.Ei,a,b)));return this};F.prototype.setVisibility=F.prototype.setVisibility;F.prototype.getVisibility=function(a){for(var b=this,c;(c=b.ee)&&a&&(b=b.S););return c};F.prototype.getVisibility=F.prototype.getVisibility;F.prototype.Yc=t;F.prototype.Jj=function(){return this.Yc};
F.prototype.getZIndex=F.prototype.Jj;F.prototype.Gk=function(a){var b=this.Yc;a!==b&&(this.Mc(),this.Yc=a,this.invalidate(oc.Z_ORDER),this.dispatchEvent(new tc(this.b.Fi,a,b)));return this};F.prototype.setZIndex=F.prototype.Gk;F.prototype.ge=t;function rd(a){var b=a.ge,c,d,e;b||(c=(d=a.Yc)!==t,(b=a.S)?(b=rd(b).slice(),b[0]|=c):b=[c|0],b.push(d||0,(e=a.mi)!==t?e:a.ib),a.ge=b);return b}F.prototype.Mc=function(){this.ge=t};
function sd(a,b,c){if(!c||a[0]|b[0])for(var d=a.length,e=b.length,f=cb(d,e),g,h=1,k=1+c;h<f;h+=k)if(g=a[h]-b[h])return g;return c?0:d-e}F.compareZOrder=function(a,b){return a.jd(b)};F.prototype.jd=function(a){return this.mc-a.mc||sd(rd(this),rd(a),!1)};F.prototype.compareZOrder=F.prototype.jd;p=F.prototype;p.previousSibling=sa;p.nextSibling=sa;p.mi=t;p.S=sa;p.tj=function(){return this.S};F.prototype.getParentGroup=F.prototype.tj;F.prototype.Ub=function(){for(var a=this,b;b=a.S;)a=b;return a};
F.prototype.getRootGroup=F.prototype.Ub;F.prototype.contains=function(a){return this===a};F.prototype.contains=F.prototype.contains;F.prototype.U=function(a){if(this.S)throw new uc(this.U,"Not allowed for a child of a group");F.a.U.call(this,a)};F.prototype.setParentEventTarget=F.prototype.U;F.prototype.k=null;F.prototype.ja=function(){return this.k};F.prototype.getProvider=F.prototype.ja;
F.prototype.ic=function(a,b){var c=this.k,d,e;if(d=c!==a){if(b&&c&&!v(c,G)||a&&!v(a,G))throw new uc(b,"Only LocalObjectProvider allows an object transfers");e=this.type!==qd.GROUP;c&&(this.invalidate(oc.REMOVE),e&&c.N(this));this.lb=sa;if(this.k=a)e&&a.A(this),this.invalidate(oc.ADD)}return d};F.prototype.cb=function(){return this.lb||(this.lb=new D)};F.prototype.getInvalidations=F.prototype.cb;F.prototype.C=function(a){var b=this.ja(),c;(c=!!b)&&b.kb(this,a);return c};F.prototype.invalidate=F.prototype.C;
F.prototype.c=function(){this.S&&this.S.N(this);delete this.lb;F.a.c.call(this)};F.prototype.getData=function(){return this.Mi};F.prototype.getData=F.prototype.getData;F.prototype.setData=function(a){this.Mi=a;return this};F.prototype.setData=F.prototype.setData;function td(a){ud(this,td,a)}q("H.map.SpatialStyle",td);function ud(a,b,c){var d,e,f,g;if(c){d=vd;for(g=v(c,td);d--;)if(e=wd[d],c.hasOwnProperty(e))if(f=c[e],g)a[e]=f;else{if((f=xd[d](f))===yd)throw new y(b,0,e+": "+c[e]);f!==a[e]&&f!==t&&(a[e]=f)}b=g?c.Ve:0<a.lineWidth&&Ma(a.strokeColor);a.Ve=b;b=g?c.Yb:Ma(a.fillColor);a.Yb=b}return a}td.prototype.Yb=!0;td.prototype.Ve=!0;var wd=[];td.prototype[wd[0]="strokeColor"]="rgba(0,85,170,.6)";td.prototype[wd[1]="fillColor"]="rgba(0,85,170,.4)";
td.prototype[wd[2]="lineWidth"]=2;td.prototype[wd[3]="lineCap"]="round";td.prototype[wd[4]="lineJoin"]="miter";td.prototype[wd[5]="miterLimit"]=10;td.prototype[wd[6]="lineDash"]=Sa;td.prototype[wd[7]="lineDashOffset"]=0;var vd=wd.length;td.prototype.G=function(a){var b,c;b=this===a;if(!b&&a){for(b=0;b<vd&&(c=wd[b],this[c]===a[c]);b++);b=b===vd}return b};td.prototype.equals=td.prototype.G;td.prototype.Lg=function(a){return ud(new td(this),this.Lg,a)};td.prototype.getCopy=td.prototype.Lg;
var yd={},xd=[function(a){return a?qa(a):yd},function(a){return a?qa(a):yd},function(a){return 0<=a&&100>=a?+a:yd},function(a){return"butt"===(a=qa(a))||"square"===a||"round"===a?a:yd},function(a){return"round"===a||"bevel"===a||"miter"===a?a:yd},function(a){return 0<a&&100>=a?+a:yd},function(a){return a&&a.every&&a.every(Fa)?a:yd},function(a){return z(+a)?yd:+a}];td.MAX_LINE_WIDTH=100;var zd=new td;td.DEFAULT_STYLE=zd;function Ad(a,b){b&&this.li(b.style);a&&(this.zd=!0);Ad.a.constructor.call(this,b)}r(Ad,F);q("H.map.Spatial",Ad);Ad.prototype.type=qd.SPATIAL;Ad.prototype.mc=0;Ad.prototype.style=zd;Ad.prototype.Ac=function(){return this.style};Ad.prototype.getStyle=Ad.prototype.Ac;Ad.prototype.li=function(a){var b=this.style,c=!0;a?this.style=v(a,td)?a:new td(a):this.style?delete this.style:c=!1;c&&(this.dispatchEvent(new tc("stylechange",this.style,b)),this.invalidate(oc.VISUAL));return this};
Ad.prototype.setStyle=Ad.prototype.li;p=Ad.prototype;p.ag=eb(td.MAX_LINE_WIDTH/2)+1;p.je=[];p.ke=[];p.zd=!1;p.Oj=function(){return this.zd};Ad.prototype.isClosed=Ad.prototype.Oj;Ad.prototype.getGeometry=Ad.prototype.rd;Ad.prototype.jj=function(){return sa};Ad.prototype.getLabels=Ad.prototype.jj;Ad.prototype.fj=function(){return-1};Ad.prototype.getHybridIdx=Ad.prototype.fj;function Bd(a,b,c){if(!v(this,I)&&!v(this,Cd))throw Error("Illegal constructor call "+xa(Bd));Bd.a.constructor.call(this,a,c);this.p(b)}r(Bd,Ad);q("H.map.GeoShape",Bd);Bd.prototype.pa=null;Bd.prototype.Ia=function(){return this.pa};Bd.prototype.getStrip=Bd.prototype.Ia;Bd.prototype.p=function(a){var b;if(null!==a&&!v(a,C))throw new y(Bd.prototype.p,0,a);b=this.pa;this.pa=a;null!==b&&(this.dispatchEvent(new tc("stripchange",a,b)),this.C(oc.SPATIAL));return this};Bd.prototype.setStrip=Bd.prototype.p;
Bd.prototype.getBounds=Bd.prototype.o;function Dd(a,b,c,d){var e=[],f=b.length,g,h;for(g=0;g<f;g++)h=b[g],h.length&&e.push(Ed(a,h,c,d));return e}function Ed(a,b,c,d){var e,f=[],g=b.length,h=0;a.sg=0;for(e=e||0;h<g;)f.push(Fd(a,b[h++],b[h++],e,d));c&&f.push(Fd(a,b[0],b[1],e,d));return f}function Fd(a,b,c,d,e){var f=a.sg;f&&180<hb(f-c)&&(c+=0>f?-360:360);a.sg=c;return e.Xe(b,c+d)};function Cd(a,b){var c;Cd.a.constructor.call(this,!1,a,b);b&&(c=b.arrows)&&this.ci(c)}r(Cd,Bd);q("H.map.Polyline",Cd);Cd.prototype.o=function(){return this.Hh.o()};Cd.prototype.getBounds=Cd.prototype.o;Cd.prototype.p=function(a){var b,c,d,e=this.Hh=new jc;a.wg(function(a,g,h,k){if(0<k){var l,m,n;c<g?(h=c,m=g):(h=g,m=c);b<a?(l=a,n=b):(l=b,n=a);d=e.jb(l,h,n,m,180<m-h);d.he=k-1}b=a;c=g});return Cd.a.p.call(this,a)};Cd.prototype.setStrip=Cd.prototype.p;Cd.prototype.Hg=function(){return this.dd&&this.dd.Je()};
Cd.prototype.getArrows=Cd.prototype.Hg;Cd.prototype.ci=function(a){var b=this.Hg(),c=!1;!a&&b?(delete this.dd,c=!0):!a||b&&b.G(a)||(this.dd=new $a(a),c=!0);c&&this.C(oc.VISUAL);return this};Cd.prototype.setArrows=Cd.prototype.ci;Cd.prototype.clip=function(a){return Gd(this,a)};Cd.prototype.clip=Cd.prototype.clip;Cd.prototype.rd=function(a){var b;b=Gd(this,a.qd());b=Dd(this,b,!1,a.td());a=a.sd();return b=Hd(b,a.left,a.top,a.right,a.bottom)};Cd.prototype.getGeometry=Cd.prototype.rd;
function Id(a,b){return a.he-b.he}function Gd(a,b){var c,d,e=a.pa.D,f,g,h,k=-2,l=[],m,n=Yb;c=nc(a.Hh,b).sort(Id);f=c.length;for(g=0;g<f;g++)d=c[g],h=d.he,d=3*h,k+1!==h&&l.push(m=[e[d],e[d+1]]),k=h,d+=3,h=e[d],d=e[d+1],m.push(h,d);if(a.pa.pd()){e=[];for(g=0;g<l.length;g++)if(m=l[g],f=m.length){k=[];for(c=0;c<f;c+=2)0==c||0<c&&!n(m[c+1],m[c-1])?k.push(m[c],m[c+1]):(k.push(m[c],m[c+1]),e.push(k),k=[],m[c-1]+=0>m[c-1]?360:-360,k.push(m[c-2],m[c-1],m[c],m[c+1]));e.push(k)}l=e}return l};function I(a,b){I.a.constructor.call(this,!0,a,b)}r(I,Bd);q("H.map.Polygon",I);I.prototype.o=function(){var a,b,c,d;if(!(a=this.Jb)){if(b=this.Ia())if(a=b.o())(c=b.pd(!0))&&(d=b.Ng())&&(a=a.mb(Tb([b.Fe(0),b.Fe(d-1)],!0),!0)),360===a.X()&&1===c%2&&(a=a.Ma(this.Xb?90:-90,0));this.Jb=a||null}return a};I.prototype.getBounds=I.prototype.o;
I.prototype.rd=function(a){var b,c,d,e=a.td(),f,g,h,k;d=Jd(this);d=Dd(this,d,!0,e);f=this.o();g=this.Ia().pd(!0);h=this.Xb;if(360===f.X()&&1==g%2){var l;g=this.ag+1;d[0][1].x>d[0][d[0].length-1].x&&(d[0]=d[0].reverse());b=[];c=d[0].length-1;for(k=0;k<c;k++)l=d[0][k],b[k]=new J(l.x-2*e.w,l.y),b[k+c]=new J(l.x-e.w,l.y),b[k+2*c]=new J(l.x,l.y),b[k+3*c]=new J(l.x+e.w,l.y),b[k+4*c]=new J(l.x+2*e.w,l.y);d[0]=b;e=e.Xe(h?90:-90,0);e.y=h?e.y-g:e.y+g;g=e.da();e.x=d[0][d[0].length-1].x+1;g.x=d[0][0].x-1;d[0].push(e,
g)}c=a.sd();e=c.left;g=c.top;k=c.right;c=c.bottom;b=Kd(e,g,d[0],h);d[1]&&(b^=Kd(e,g,d[1],h));if(!Hd(d,e,g,k,c).length)d=b?this.je:this.ke;else if(!a.qd().ue(f)){a=[];f=[new J(e,g),new J(k,g),new J(k,c),new J(e,c)];for(h=d.length;h--;){g=d[h];e=Ld(f);g=Ld(g);var m=l=void 0,n=void 0,u=void 0,w=u=void 0,x=n=k=void 0;b=l=l=k=void 0;k={};c=b=1;l=0;l=~~(1*l);switch(l){case 1:c=b=0;break;case 2:b=0;c=1;break;case 3:b=1,c=0}var L=c,ea=void 0,Ba=void 0,n=c=void 0;if(g&&e){l=Md(g);Nd(g.x,g.y,null,l,0,0);m=
Md(e);Nd(e.x,e.y,null,m,0,0);for(l=g;l.next;l=l.next)if(!l.Y)for(m=e;m.next;m=m.next)!m.Y&&(ea=Od(l.next),Ba=Od(m.next),n=Pd(l,ea,m,Ba,k))&&(n=k.gg,x=k.hg,u=k.Nk,w=k.Ok,n=Nd(u,w,null,null,1,n),u=Nd(u,w,null,null,1,x),n.ff=u,u.ff=n,Qd(n,l,ea),Qd(u,m,Ba));k=Rd(g,e);b&&(k=1-k);for(l=g;l.next;l=l.next)l.Y&&(l.Ee=k,k=1-k);k=Rd(e,g);L&&(k=1-k);for(m=e;m.next;m=m.next)m.Y&&(m.Ee=k,k=1-k);Sd(g);for(Sd(e);(k=Td(g))!=g;){for(l=null;!k.fe;k=k.ff){for(b=k.Ee;;){l=Nd(k.x,k.y,l,null,0,0);k.fe=1;k=b?k.next:k.aa;
if(!k)break;if(k.Y){k.fe=1;break}}if(!k)break}l.hf=c;c=l}e=c}else e=void 0;if(e)for(g=Ud(e),a.push(g);e.hf;)e=e.hf,g=Ud(e),a.push(g)}d=a}return d};I.prototype.getGeometry=I.prototype.rd;function Kd(a,b,c,d){for(var e=c.length,f=1,g=0,h=c[0],k,l;f<e;f++)k=c[f],l=h.y+(a-h.x)/(k.x-h.x)*(k.y-h.y),cb(h.x,k.x)<=a&&db(h.x,k.x)>=a&&(d?l>b:l<b)&&g++,h=k;return 0<g%2}
function Ud(a){var b=[],c,d=a,e,f;do{e=eb(100*(d.Kd?d.Kd:d.x))/100;f=eb(100*(d.vf?d.vf:d.y))/100;if(!c||0.01<jb(kb(c.x-e,2)+kb(c.y-f,2)))c=new J(e,f),b.push(c);d=d.next}while(d&&d!==a);return b}I.prototype.Jb=null;I.prototype.p=function(a){if(!v(a,C)&&(va(this,I)||null!==a))throw new y(I.prototype.p,0,a);this.Jb=null;return I.a.p.call(this,a)};I.prototype.setStrip=I.prototype.p;I.prototype.Xb=!0;I.prototype.Rc=function(a){this.Xb!==a&&(this.Xb=a,this.Jb=null,this.C(oc.SPATIAL));return this};
I.prototype.setNorthPoleCovering=I.prototype.Rc;I.prototype.rj=function(){return this.Xb};I.prototype.getNorthPoleCovering=I.prototype.rj;
function Jd(a){var b,c,d;b=[[]];c=a.Ia().D;d=[];var e=c.length,f,g,h,k=!1;for(f=0;f<e;f+=3)g=c[f],h=c[f+1],k||180!=hb(h)||(d.push(g),d.push(h),d.push(g),d.push(-h),k=!0),d.push(g),d.push(h);c=d;a=a.o();d=a.X();360>d&&-180==a.j&&(a=new B(a.r,180,a.q,a.n));360>d&&180==a.n&&(a=new B(a.r,a.j,a.q,-180));if(a.Wb()){h=c.length;var l;d=-1;f=Yb;for(e=0;e<h-2;e+=2)if(f(c[e+1],c[e+3])){d=e+2;break}-1===d&&f(c[h-1],c[1])&&(d=h);-1!==d&&(f=c[d-2],e=c[d-1],g=c[d%h],l=c[(d+1)%h],180!==hb(f)&&180!==hb(g)&&(k=hb(g-
f),h=hb(l-e),h+=180<h?-360:0,l=hb(180-l),l+=180<l?-360:0,k/=hb(h)/hb(l),f=g+(g>f?-k:k),e=0<e?180:-180,c.splice(d,0,f,e,f,-e)))}b[0]=Vd([].concat(c),a.j);360>a.X()&&a.te(new A(a.r,180))&&(c=Vd([].concat(c),a.n),b.push(c));return b}I.prototype.clip=function(){var a=I.prototype.clip,b=pa.console;b&&b.warn&&(a=xa(a)+" is deprecated and will be removed soon. ",b.warn(a));return Jd(this)};I.prototype.clip=I.prototype.clip;
function Vd(a,b){for(var c=[],d=Number.POSITIVE_INFINITY,e=-1,f,g=a.length,c=0;c<g;c+=2)f=hb(a[c+1]-b),f+=180<f?360-f:f,f<d&&(d=f,e=c);return 0<c?(c=a.splice(e,a.length-e),c.concat(a)):a};function Wd(a,b){Wd.a.constructor.call(this,null,b);this.Hf(a)}r(Wd,I);q("H.map.Rect",Wd);Wd.prototype.Hf=function(a){if(!v(a,B))throw new y(this.Hf,0,a);a.G(this.Jb)||(this.J=a,Wd.a.p.call(this,null),this.Jb=a,this.pa||this.C(oc.SPATIAL))};Wd.prototype.setBounds=Wd.prototype.Hf;Wd.prototype.o=function(){return this.J};Wd.prototype.getBounds=Wd.prototype.o;Wd.prototype.Rc=function(){return this};Wd.prototype.setNorthPoleCovering=Wd.prototype.Rc;Wd.prototype.p=function(){return this};
Wd.prototype.setStrip=Wd.prototype.p;Wd.prototype.Ia=function(){return this.pa||Wd.a.p.call(this,this.Oe()).pa};Wd.prototype.getStrip=Wd.prototype.Ia;Wd.prototype.Oe=function(){var a=this.J,b,c,d,e,f=[b=a.r,c=a.j,t,b,e=a.n,t,d=a.q,e,t,d,c,t];180<=a.X()&&(f.splice(9,0,d,a=a.W().lng,t),f.splice(3,0,b,a,t));return new C(f)};function Xd(a,b,c){if(!a||!b||!c)throw new y(Xd,null,"Must specify name, version and revision parameter");this.name=a;this.version=b;this.revision=c}q("H.util.BuildInfo",Xd);Xd.prototype.toString=function(){return this.name+";"+this.version+";"+this.revision};var Yd={};function Zd(a,b,c){if(!a)throw new y(Zd,1,"Must specify a name parameter");return Yd[a]||(Yd[a]=new Xd(a,b,c))}Xd.get=Zd;function $d(){}q("H.util.ICapturable",$d);$d.prototype.Q=function(){};$d.prototype.capture=$d.prototype.Q;q("H.util.Disposable",pc);pc.prototype.Gb=pc.prototype.Gb;pc.prototype.addOnDisposeCallback=pc.prototype.Gb;function ae(a){a&&"function"==typeof a.g&&a.g()}q("H.util.dispose",ae);function be(a,b){var c=a.bb(),d=c.ownerDocument;be.a.constructor.call(this);this.Z=a;this.t=c=c.appendChild(ce(d,"DIV","position:absolute;bottom:4em;left:0.5em;z-index:1;height:0px"));this.pe=ce(d,"DIV","position:absolute;top:0px;pointer-events:none;",de);this.Ii=c.appendChild(this.pe).firstChild.firstChild.style;c=c.appendChild(ce(d,"DIV","-webkit-touch-callout: none;-webkit-user-select:none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select:none;whiteSpace:nowrap;position:relative;top:2.2em;"));
this.ld=c.appendChild(ce(d,"SPAN"));this.ld.setAttribute("unselectable","on");this.ri=c.appendChild(ce(d,"A","color:inherit","Terms of use"));this.ri.target="_blank";this.xk=c=c.appendChild(ce(d,"SPAN","color:inherit"," | "));this.yk=c.appendChild(function(){var a=ce(d,"A","color:inherit","Report image");a.target="_blank";return a}());this.fh=ee.slice();this.Wd(b);this.lc=s(this.lc,this);this.wa=s(this.wa,this);this.Z.addEventListener(this.Z.b.Yf,this.lc);this.Z.f.addEventListener("add",this.wa);
this.Z.f.addEventListener("remove",this.wa);this.Z.f.addEventListener("set",this.wa);this.wa()}r(be,pc);q("H.map.Imprint",be);var fe=ta("font href invert reportHref"),ee=ta("11px Arial,sans-serif;http://here.com/terms;;http://here.com/",";");be.prototype.Wd=function(a){var b=fe.length,c,d,e;a||(this.fh=ee.slice());for(e=this.fh;b--;)c=fe[b],d=a&&c in a?e[b]=a[c]:e[b],2===b?(this.Ii.fill=d?"#FFF":"#1B468D",this.t.style.color=d?"#FFF":"#333"):1===b?this.ri[c]=d:this.t.style[c]=d};
be.prototype.setOptions=be.prototype.Wd;function ce(a,b,c,d){a=a.createElement(b);c&&(a.style.cssText=c);d&&(a.innerHTML=d);return a}be.prototype.bb=function(){return this.t};be.prototype.getElement=be.prototype.bb;be.prototype.lc=function(){var a=ee[3],b=this.Z,c=this.yk,d=this.xk,e;b.Me().type===ge?d.style.display="none":(b=b.qa.ab(),e=b.position,d.style.display="inline",c.href=a+[e.lat,e.lng,22,b.yaw,90+b.pitch].join()+",panorama.day,report");this.ld.innerHTML="&copy; "+this.sa()+" | "};
be.prototype.wa=function(){this.lc();setTimeout(this.lc,5E3)};
var de='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="3em" height="2.2em" viewBox="0 0 540 430"><path d="M 0,303 127,430 h 77 l -53,-53 c -19,-18 -24,-31 -13,-43 8,-9 18,-8 30,3 l 64,65 39,-39 -69,-70 c -28,-28 -55,-34 -81,-7 -16,15 -18,30 -17,44 L 38,265 0,303 z m 322,-97 c -41,-41 -79,-43 -113,-9 -34,34 -28,77 5,110 41,41 86,34 120,0 17,-16 26,-31 30,-41 l -34,-19 c -5,9 -12,20 -21,28 -19,19 -36,19 -48,9 l 70,-69 -9,-8 z m -85,57 c -11,-12 -11,-26 0,-37 11,-11 24,-11 38,0 l -38,37 z m 138,-3 39,-39 -42,-42 C 337,145 347,127 355,119 361,113 367,109 371,108 L 339,71 c -2,1 -7,5 -12,9 -13,14 -17,35 -13,49 L 297,114 263,148 374,260 z M 494,34 C 453,-8 415,-10 381,25 c -33,33 -25,79 6,109 41,41 85,35 119,1 20,-20 30,-39 32,-48 L 505,68 c -4,9 -13,24 -24,34 -18,19 -36,19 -48,9 L 503,42 494,34 z m -85,57 c -11,-12 -11,-26 0,-37 11,-11 24,-11 37,0 l -37,37 z" /></svg>',he=
"1987&ndash;"+db(2014,(new Date).getFullYear())+" HERE";be.prototype.sa=function(){var a=this.Z,b=a.getZoom(),c=a.Pg(),a=a.f,d=a.d.length,e={},f=0,g,h,k,l=[he];if(c)for(;f<d;f++)if(h=a.get(f).getCopyrights(c,b))for(g=0;g<h.length;g++)e[k=h[g].label]||(l.push(k),e[k]=1);return l.join(", ")};be.prototype.getCopyrights=be.prototype.sa;be.prototype.Ac=function(){return this.t.style};be.prototype.getStyle=be.prototype.Ac;
be.prototype.c=function(){this.Z.removeEventListener(this.Z.b.Yf,this.lc);this.Z.f.removeEventListener("add",this.wa);this.Z.f.removeEventListener("remove",this.wa);this.Z.f.removeEventListener("set",this.wa);this.t.parentNode&&Va(this.t)};
be.prototype.Q=function(a,b,c,d){var e=a.getContext("2d"),f=window.getComputedStyle(this.ld),g=Da(f.getPropertyValue("font-size")),h,k=this.pe.childNodes[0],l;h=this.pe.offsetHeight;var m=this.t.ownerDocument,n=this.ld.offsetHeight,u=+a.height,w=k.getBoundingClientRect?k.getBoundingClientRect():{};l=w.width*b;var w=w.height*b,x=u-(h+n+3)*b;h=function(a){a=ce(m,"div",null,a);return a.textContent||a.innerText||""}(this.sa());e.font=g*b+"px "+f.getPropertyValue("font-family");e.fillStyle=f.getPropertyValue("color");
e.fillText(h,5*b,u-5*b);f=Ua(k,document,!1);f.setAttribute("width",l);f.setAttribute("height",w);l=m.createElement("div");l.appendChild(f);ie.load(Oa(l.innerHTML),function(d){e.drawImage(d,5*b,x);c(a)},d)};be.prototype.capture=be.prototype.Q;function je(a,b,c,d){je.a.constructor.call(this,a,b,c);this.modifiers=d}r(je,tc);q("H.map.ChangeEvent",je);je.prototype.FOV=1;je.prototype.PITCH=2;je.prototype.POSITION=4;je.prototype.ROLL=8;je.prototype.SIZE=16;je.prototype.YAW=32;je.prototype.ZOOM=64;var ke=hd;q("H.util.events.listenOnce",ke);q("H.util.events.dispatchEvent",od);q("H.util.events.fireListeners",function(a,b,c,d){var e=ad;return b in e&&(e=e[b],c in e)?md(e[c],a,b,c,d):!0});q("H.util.events.listen",dd);q("H.util.events.unlisten",id);
var le=nd,nd=function(a,b){var c,d,e,f=!0;c=b[b.currentTarget===b.target?"AT_TARGET":a.Q?"CAPTURING_PHASE":(d=!0,"BUBBLING_PHASE")];if(!d||"pointerenter"!==(e=b.type)&&"pointerleave"!==e)b.eventPhase=c,f=le(a,b),d&&a.src.fb&&null===a.src.fb()&&delete b.eventPhase;return f};function K(){K.a.constructor.call(this);this.T={};this.Rd={position:new A(0,0),pitch:0,yaw:0,roll:0,fov:70};this.xb=0}r(K,E);q("H.map.ViewModel",K);K.prototype.b={m:"update",pc:"sync"};K.prototype.ie=ta("position pitch yaw roll fov zoom");var me=ta("fov pitch position roll yaw zoom").reduce(function(a,b){a[b]=je.prototype[b.toUpperCase()];return a},{});
function ne(a,b,c,d){var e=d.length,f,g,h;a.Uc=0;a.kf={};for(a.gf={};e--;)if(f=d[e],h=c[f],g=b[f],null!=h){if(a.kf[f]=g,a.gf[f]=h,b[f]=h,Lb(h)&&Lb(g)&&(h.lat!==g.lat||h.lng!==g.lng)||!Lb(h)&&h!==g)a.Uc|=me[f]}else delete b[f];return b}K.prototype.ab=function(){return ne(this,{},this.Rd,this.ie)};K.prototype.getCameraData=K.prototype.ab;
K.prototype.Oc=function(a){var b,c=a.animate;if(!a)throw new y(this.Oc,0,a);if((b=a.position)&&!Lb(b))throw new y(this.Oc,0,"position");this.T.zoom=z(a.zoom)?z(this.T.zoom)?this.xb:this.T.zoom:a.zoom;b=this.T.zoom;a=ne(this,{},a,this.ie);this.T={animate:c,zoom:b,camera:a};this.dispatchEvent(new oe(this.T));return this};K.prototype.setCameraData=K.prototype.Oc;
K.prototype.ae=function(a){var b=a.zoom;ne(this,this.Rd,a,this.ie);b!==this.xb&&(this.Uc|=me.zoom);this.kf.zoom=this.xb;this.gf.zoom=b;this.xb=null!=b?b:this.xb;this.Rd.zoom=this.xb;this.T={};this.dispatchEvent(new je(this.b.pc,this.gf,this.kf,this.Uc))};K.prototype.setZoom=function(a,b){if(z(a=+a))throw new y(this.setZoom,0,a);this.T={animate:b,zoom:a,camera:this.T.camera||this.Rd};this.dispatchEvent(new oe(this.T))};K.prototype.setZoom=K.prototype.setZoom;K.prototype.getZoom=function(){return this.xb};
K.prototype.getZoom=K.prototype.getZoom;K.prototype.Bj=function(){var a=this.T.camera;a.zoom=Ea(this.T.zoom)?this.T.zoom:a.zoom;return a};K.prototype.getRequestedCameraData=K.prototype.Bj;K.prototype.startControl=K.prototype.Ba;K.prototype.control=K.prototype.control;K.prototype.endControl=K.prototype.endControl;function oe(a){oe.a.constructor.call(this,K.prototype.b.m);this.requested=a}r(oe,sc);function J(a,b){this.x=+a;this.y=+b}q("H.math.Point",J);J.prototype.set=J;J.prototype.set=J.prototype.set;J.prototype.da=function(a){a?(a.x=this.x,a.y=this.y):a=new J(this.x,this.y);return a};J.prototype.clone=J.prototype.da;J.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};J.prototype.add=J.prototype.add;J.prototype.sub=function(a){this.x-=a.x;this.y-=a.y;return this};J.prototype.sub=J.prototype.sub;J.prototype.scale=function(a,b){this.x*=a;this.y*=void 0===b?a:b;return this};
J.prototype.scale=J.prototype.scale;J.prototype.round=function(){this.x=eb(this.x);this.y=eb(this.y);return this};J.prototype.round=J.prototype.round;J.prototype.floor=function(){this.x=fb(this.x);this.y=fb(this.y);return this};J.prototype.floor=J.prototype.floor;J.prototype.ceil=function(){this.x=gb(this.x);this.y=gb(this.y);return this};J.prototype.ceil=J.prototype.ceil;J.prototype.G=function(a){return!(!a||this.x!==a.x||this.y!==a.y)};J.prototype.equals=J.prototype.G;
J.prototype.distance=function(a){return jb(kb(this.x-a.x,2)+kb(this.y-a.y,2))};J.prototype.distance=J.prototype.distance;function pe(){}pe.prototype.Zb=function(){};q("H.geo.IProjection.prototype.latLngToPoint",pe.prototype.Zb);pe.prototype.ia=function(){};q("H.geo.IProjection.prototype.xyToGeo",pe.prototype.ia);pe.prototype.Nd=function(){};q("H.geo.IProjection.prototype.pointToGeo",pe.prototype.Nd);pe.prototype.Rb=function(){};q("H.geo.IProjection.prototype.geoToPoint",pe.prototype.Rb);var M={};q("H.geo.mercator",M);M.ih=function(a){return cb(1,db(0,0.5-ib(pb(vb+ub*a/180))/tb/2))};M.mh=function(a){return a/360+0.5};M.Zb=function(a,b,c){c?(c.x=M.mh(b),c.y=M.ih(a)):c=new J(M.mh(b),M.ih(a));return c};M.latLngToPoint=M.Zb;M.Rb=function(a,b){return M.Zb(a.lat,a.lng,b)};M.geoToPoint=M.Rb;M.xi=function(a){return 0>=a?90:1<=a?-90:zb*(2*qb(lb(tb*(1-2*a)))-ub)};M.vi=function(a){return 360*(1===a?1:Bb(a,1))-180};
M.ia=function(a,b,c){c?(c.lat=M.xi(b),c.lng=M.vi(a)):c=new A(M.xi(b),M.vi(a));return c};M.xyToGeo=M.ia;M.Nd=function(a,b){return M.ia(a.x,a.y,b)};M.pointToGeo=M.Nd;function qe(a,b){this.projection=a||M;this.l=0;this.Vc=this.exp=ib(b||256)/sb;re(this);this.y=this.x=0}q("H.geo.PixelProjection",qe);qe.prototype.F=function(a){if(z(a))throw new y(this.F,0,a);var b=this.x/this.w,c=this.y/this.h;this.l=a;this.Vc=this.exp+a;re(this);this.x=b*this.w;this.y=c*this.h};qe.prototype.rescale=qe.prototype.F;function re(a){30<a.Vc&&(a.Vc=30);a.w=kb(2,a.Vc);a.h=kb(2,a.Vc)}qe.prototype.Qg=function(){return this.l||0};qe.prototype.getZoomScale=qe.prototype.Qg;
qe.prototype.geoToPixel=function(a,b){var c=this.projection.Zb(a.lat,a.lng,b);c.x=c.x*this.w-this.x;c.y=c.y*this.h-this.y;return c};qe.prototype.geoToPixel=qe.prototype.geoToPixel;qe.prototype.pixelToGeo=function(a,b){return this.projection.ia((a.x+this.x)/this.w,(a.y+this.y)/this.h,b)};qe.prototype.pixelToGeo=qe.prototype.pixelToGeo;qe.prototype.ia=function(a,b,c){return this.projection.ia((a+this.x)/this.w,(b+this.y)/this.h,c)};qe.prototype.xyToGeo=qe.prototype.ia;
qe.prototype.Xe=function(a,b,c){a=this.projection.Zb(a,b,c);a.x=a.x*this.w-this.x;a.y=a.y*this.h-this.y;return a};qe.prototype.latLngToPixel=qe.prototype.Xe;qe.prototype.dc=function(a){return new J(a.x*this.w-this.x,a.y*this.h-this.y)};qe.prototype.pointToPixel=qe.prototype.dc;function N(a){N.a.constructor.call(this);a=a||{};this.min=0;this.max=22;this.Li=!!a.dark;a.min&&this.Vd(a.min);a.max&&this.Ud(a.max);this.pixelProjection=new qe(a.projection,a.minWorldSize)}r(N,E);q("H.map.layer.Layer",N);N.prototype.b={m:"update",$f:"minchange",Zf:"maxchange"};N.prototype.Pj=function(a){return this.min<=a&&a<=this.max};N.prototype.isValid=N.prototype.Pj;
N.prototype.Vd=function(a){var b=this.min;if(a!==b){if(z(a))throw new y(N.prototype.Vd,0,"min is NaN");if(a<=this.max)this.min=a,this.dispatchEvent(new tc(this.b.$f,a,b));else throw new y(N.prototype.Vd,0,"min > max");}return this};N.prototype.setMin=N.prototype.Vd;N.prototype.Ud=function(a){var b=this.max;if(a!==b){if(z(a))throw new y(N.prototype.Ud,0,"max is NaN");if(a>=this.min)this.max=a,this.dispatchEvent(new tc(this.b.Zf,a,b));else throw new y(N.prototype.Ud,0,"max < min");}return this};
N.prototype.setMax=N.prototype.Ud;N.prototype.V=function(){this.dispatchEvent(this.b.m)};N.prototype.c=function(){N.a.c.call(this)};N.prototype.sa=function(){return null};N.prototype.getCopyrights=N.prototype.sa;function O(a){var b={};this.Rg=b.previousSibling=b.nextSibling=b;O.a.constructor.call(this,a);a&&"objects"in a&&this.Fb(a.objects)}r(O,F);q("H.map.Group",O);O.prototype.type=qd.GROUP;O.prototype.ic=function(a,b){var c;(c=O.a.ic.call(this,a,b))&&this.forEach(se,!0);return c};O.prototype.setProvider=O.prototype.ic;function se(a,b,c){a.ic(c.k)}O.prototype.contains=function(a){var b=this===a;if(!b&&this.Mb&&v(a,F))for(;!b&&a;)a===this?b=!0:a=a.S;return b};O.prototype.contains=O.prototype.contains;
O.prototype.Mc=function(){this.ge=t;this.forEach(te,!0)};O.prototype.resetZInfo=O.prototype.Mc;function te(a){a.Mc()}O.prototype.C=function(a){var b=O.a.C.call(this,a);b&&(this.Dg=a,this.forEach(ue,!0),delete this.Dg);return b};O.prototype.invalidate=O.prototype.C;function ue(a,b,c){a.C(c.Dg)}O.prototype.forEach=function(a,b,c){var d,e,f,g;if(this.Mb)for(d=this.Rg,e=d.nextSibling,f=0;e!==d;)g=e.nextSibling,a.call(c,e,f++,this),b&&v(e,O)&&e.forEach(a,b,c),e=g};O.prototype.forEach=O.prototype.forEach;
O.prototype.eb=function(a){var b=[];this.forEach(ve,a,b);return b};O.prototype.getObjects=O.prototype.eb;O.prototype.o=function(){var a=null;this.Mb&&this.forEach(function(b){a?b.o?(b=b.o())&&(a=a.mb(b)):a=a.af(b.getPosition()):a=b.o?b.o():Tb([b.getPosition()])});return a};O.prototype.getBounds=O.prototype.o;function ve(a){this.push(a)}O.prototype.Mb=0;O.prototype.aj=function(){return this.Mb};O.prototype.getChildCount=O.prototype.aj;O.prototype.Yj=Ab;
O.prototype.A=function(a){var b=this.Rg,c=b.previousSibling,d,e;v(a,F,this.A,0);if(a.contains(this))throw new uc(this.A,"The new object contains the parent group");e=a.ic(this.k,this.A);d=a.S;if(d!==this){if(d){d=a.previousSibling;var f=a.nextSibling;d.nextSibling=f;f.previousSibling=d}a.S=this;F.a.U.call(a,this);c.nextSibling=a;a.previousSibling=c;a.nextSibling=b;b.previousSibling=a;this.Mb++}a.mi=this.Yj++;a.Mc();e||a.C(oc.Z_ORDER);return a};O.prototype.addObject=O.prototype.A;
O.prototype.Fb=function(a){var b,c;Aa(a,"Array",this.Fb,0,void 0);b=a.length;for(c=0;c<b;c++)this.A(a[c])};O.prototype.addObjects=O.prototype.Fb;O.prototype.N=function(a){if(!a||a.S!==this)throw new uc(this.N,"object not found");var b=a.previousSibling,c=a.nextSibling;b.nextSibling=c;c.previousSibling=b;a.S=null;F.a.U.call(a,null);delete a.previousSibling;delete a.nextSibling;v(a.k,G)&&a.ic(null,this.N);this.Mb--;return a};O.prototype.removeObject=O.prototype.N;
O.prototype.fc=function(a){var b,c;Aa(a,"Array",this.fc,0,void 0);b=a.length;for(c=0;c<b;c++)this.N(a[c])};O.prototype.removeObjects=O.prototype.fc;O.prototype.Oa=function(){var a=this.eb();this.fc(a)};O.prototype.removeAll=O.prototype.Oa;function Hd(a,b,c,d,e){var f,g,h=a.length,k,l,m,n,u,w,x;if(h){for(f=[];h--;)for(w=a[h],n=w.length,u=0,k=1;k<n;k++)if(x=we(w[k-1],w[k],c,b,d,e))l=x[0],m=x[1],u&&u.G(l)?g.push(m):f.push(g=x),u=m;n=f.length;1<n&&f[0][0].G(f[n-1][f[n-1].length-1])&&f[0].splice.apply(f[0],[0,1].concat(f.splice(n-1,1)[0]))}else f=a;return f}
function we(a,b,c,d,e,f){var g=a.x;a=-a.y;var h=b.x;b=-b.y;var k,l,m;c=-c;f=-f;if(g>h){if(h>e||g<d)return;l=g;m=a;g=h;a=b;h=l;b=m;l=1}else if(g>e||h<d)return;if(a>b){if(b>c||a<f)return;k=1;a=-a;b=-b;m=f;f=-c;c=-m}else if(a>c||b<f)return;if(g<d){if((a+=(d-g)*(b-a)/(h-g))>c)return;g=d}if(a<f){if((g+=(f-a)*(h-g)/(b-a))>e)return;a=f}h>e&&(b=a+(e-g)*(b-a)/(h-g),h=e);b>c&&(h=g+(c-a)*(h-g)/(b-a),b=c);k&&(a=-a,b=-b);return l?[new J(h,-b),new J(g,-a)]:[new J(g,-a),new J(h,-b)]}
function Nd(a,b,c,d,e,f){var g={};g.x=a;g.y=b;g.next=c;if(g.aa=d)g.aa.next=g;c&&(g.next.aa=g);g.hf=null;g.ff=null;g.Y=e;g.Ee=0;g.fe=0;g.alpha=f;return g}function Od(a){for(;a&&a.Y;)a=a.next;return a}function Md(a){if(a)for(;a.next;)a=a.next;return a}function Td(a){var b=a;if(b){do b=b.next;while(b!=a&&(!b.Y||b.Y&&b.fe))}return b}function Sd(a){var b=Md(a);b.aa.next=a;a.aa=b.aa}function xe(a,b,c,d){return jb((a-c)*(a-c)+(b-d)*(b-d))}
function ye(a,b,c,d,e,f){var g=a.x+f*(b.x-a.x);f=a.y+f*(b.y-a.y);e.gg=xe(a.x,a.y,g,f)/xe(a.x,a.y,b.x,b.y);e.hg=xe(c.x,c.y,g,f)/xe(c.x,c.y,d.x,d.y);e.Nk=1*g;e.Ok=1*f}
function Pd(a,b,c,d,e){var f,g;g=(b.x-a.x)*(d.y-c.y)-(b.y-a.y)*(d.x-c.x);var h;if(!g&&(a.Kd=a.x,a.vf=a.y,a.x+=(bb()-0.5)/1E4,a.y+=(bb()-0.5)/1E4,g=(b.x-a.x)*(d.y-c.y)-(b.y-a.y)*(d.x-c.x),!g))return 0;f=((c.x-a.x)*(d.y-c.y)-(c.y-a.y)*(d.x-c.x))/g;g=((b.y-a.y)*(c.x-a.x)-(b.x-a.x)*(c.y-a.y))/g;if(0>f||1<f||0>g||1<g)return 0;ye(a,b,c,d,e,f);0===e.gg&&0<=(h=e.hg)&&1>=h&&(a.Kd||(a.Kd=a.x,a.vf=a.y),a.x+=(bb()-0.5)/1E4,a.y+=(bb()-0.5)/1E4,ye(a,b,c,d,e,f));return 1}
function Rd(a,b){var c,d,e=0,f;Nd(0,a.y,null,null,0,0);d=Nd(-2147483648,a.y,null,null,0,0);for(c=b;c.next;c=c.next)(f=Pd(d,a,c,c.next,{}))&&e++;return e%2}function Qd(a,b,c){for(;b!==c&&b.alpha<a.alpha;)b=b.next;a.next=b;a.aa=b.aa;a.next.aa=a;a.aa&&(a.aa.next=a)}function Ld(a){for(var b,c=null,d=0,e=a.length;d<e;d++){b=Nd(a[d].x,a[d].y,c,null,0,0);if(b.next=c)c.aa=b;c=b}return c};function ze(a,b,c,d,e){void 0===d&&(d=0,e=a.length-1);for(var f,g=b*b,h=0,k=d,l=a[d].x,m=a[d].y,n=a[e].x,u=a[e].y,w=d+1,x,L=l!==n?(u-m)/(n-l):null;w<e;)x=a[w++],f=x.x,x=x.y,h<(f=cb(null!==L?kb(hb(x-L*f-(m-L*l)),2)/(kb(L,2)+1):hb(f-l),kb(f-l,2)+kb(x-m,2),kb(f-n,2)+kb(x-u,2)))&&(h=f,k=w-1);h>=g||0<c?(d=ze(a,b,c=(c||0)-1,d,k),d.splice(d.length-1,1),d=d.concat(ze(a,b,c,k,e))):d=[a[d],a[e]];return d};function Ae(a,b,c,d){this.key="";this.x=a;this.y=b;this.z=c;this.data=d;this.valid=!0}q("H.map.provider.Tile",Ae);function P(a,b,c,d,e,f,g){P.a.constructor.call(this,b,c,d,null);this.key=a;this.Fd=g;this.Ta=e;1!==f&&(this.xa=f);this.objects=null;this.wb={}}r(P,Ae);q("H.map.provider.SpatialTile",P);P.prototype.sd=function(){var a=this.ok,b;a||(a=0<this.z?-Ad.prototype.ag:0,b=this.Ta-a,a=this.ok=new Q(a,a,b,b));return a};P.prototype.getPxClipRect=P.prototype.sd;
P.prototype.qd=function(){var a=this.Vi,b;a||(a=this.td(),b=this.sd(),a=this.Vi=Sb(a.pixelToGeo(new J(b.left,b.top)),a.pixelToGeo(new J(b.right,b.bottom))));return a};P.prototype.getGeoClipRect=P.prototype.qd;P.prototype.td=function(){var a=this.pk,b;a||(b=this.Ta,a=this.pk=new qe(t,b),a.F(this.z),a.x=this.x*b,a.y=this.y*b);return a};P.prototype.getPxProj=P.prototype.td;P.prototype.xa=1;P.prototype.vj=function(){return this.xa};P.prototype.getPixelRatio=P.prototype.vj;
function Be(a,b){return sd(rd(a),rd(b),!1)}P.zOrderComparator=Be;P.prototype.Ak=function(){this.objects?Ce(this).We(this.Rh)&&this.objects.sort(Be):this.objects=this.Fd.requestSpatialsByTile(this,!1,!1).sort(Be);return this.objects};P.prototype.requestObjects=P.prototype.Ak;P.prototype.sj=function(){return this.Fd};P.prototype.getObjectProvider=P.prototype.sj;function Ce(a){return a.Fd.getInvalidations(qd.SPATIAL)}
function De(a){var b=a.Rh||Ab,c=Ce(a),d=a.objects||a.requestObjects(),e,f,g,h=d.length;a.ua=!0;a.va=!0;if(c.Re(b))if(c.Yg(b)||c.bh(b))a.ua=a.va=!1;else if(c.Ad(b)||c.Dc(b)){if(c.Ad(b)){e=a.Fd.requestSpatialsByTile(a,!1,!1);f=e.length;if(f!==h)a.va=!1;else for(;f--&&a.va;)g=e[f],a.wb[g.ib]?g.cb().Ad(b)&&(a.va=!1):a.va=!1;a.ua&=a.va}if(c.Dc(b))for(;h--&&a.ua;)c=d[h].cb(),c.Re(b)&&c.Dc(b)&&(a.ua=!1)}else c.We(b)&&(a.ua=!1)}P.prototype.Te=function(){this.ua&&De(this);return this.ua};
P.prototype.isCanvasValid=P.prototype.Te;Object.defineProperty(P.prototype,"valid",{get:function(){return this.Te()},set:Ra,configurable:!0});P.prototype.Mh=function(){var a=this.data;this.data=null;return a};P.prototype.releaseCanvas=P.prototype.Mh;P.prototype.Nh=function(){this.wb={};this.objects=null;return this.wb};P.prototype.releaseData=P.prototype.Nh;P.prototype.eb=function(){return this.objects};P.prototype.getObjects=P.prototype.eb;P.prototype.Ek=function(a){this.objects=a};
P.prototype.setObjects=P.prototype.Ek;
P.prototype.I=function(a,b,c){if(null===this.objects)return Sa;for(var d=this.objects,e=d.length,f,g,h,k,l=this.wb,m,n,u,w=[],x=[],L,ea;e--;)if(g=d[e],L=g.getHybridIdx(this),g.getVisibility(!0)&&(h=g.style||g.Ac(),k="none"!==h.strokeColor?h.lineWidth:0,h=(u=g.zd)&&"none"!==h.fillColor,f=g.ib,f=l[f])){m=f[1];if(m===g.je)h&&x.push(g);else if(m!==g.ke)for(f=m.length;f--;){w.length=0;ea=m[f].length;for(n=0;n<ea;n++)w.push(m[f][n].x,m[f][n].y);if(f>=L||h)if(n=-1!==L?f<L:u,n=Fb(a,b,w,k,n),0!==n&&(3!==n||
h)){x.push(g);break}}if(c&&x.length)break}return x};
P.prototype.ba=function(a){var b=a.getContext("2d"),c=this.requestObjects(),d=c.length,e,f,g;a.width=a.height=this.Ta;b.clearRect(0,0,this.Ta,this.Ta);if(d){for(e=0;e<d;e++)if(g=c[e],g.getVisibility(!0)){f=g.style||g.Ac();b.save();(g.zd?this.uk:this.vk).call(this,g,b,f);if(f=g.getLabels(this)){g=b;for(var h=f.length;h--;){var k=g,l=f[h],m=l.lines,n=m.length,u=void 0,u=l.x,w=l.y,x=l.size,L=l.color,ea=l.lineHeight||1.375*x;if(Ma(L)&&u!==t&&w!==t)for(k.font=x+"px "+l.font,k.fillStyle=L,k.textAlign="center",
k.translate(u,w),k.rotate(l.angle),u=w=0;u<n;u++)k.fillText(m[u],0,w),w+=ea}}b.restore()}this.data=a}this.ua=this.va=!0;this.Rh=Ce(this).Hb;return 0<d};P.prototype.render=P.prototype.ba;
P.prototype.vk=function(a,b,c){var d=a.ib,e=this.wb[d],e=e&&e[1],f;e||(e=a.getGeometry(this),e=Ee(e));this.wb[d]=[a,e];Fe(b,c,this.xa)&&Ge(e,b,!1,!0,!1);if("none"!==c.fillColor&&(f=a.dd)&&He(b,f)){a=e;d=c.lineWidth;c=d*f.width/2;d=d*f.length/2;e=d/2;f=2*d*f.frequency;for(var g=jb(kb(d,2)+kb(c,2)),h=this.Ta-g,g=new Q(g,g,h,h),k,l,m,n,u,w,x,L,ea,Ba,Za,Ff=tb/2,h=a.length;h--;){w=0;k=a[h];if(n=l=k.length){m=k;n=m.length;for(u=0;--n;)u+=m[n].distance(m[n-1]);n=(m=u)>=f}if(n)for(n=cb(fb(m/f),1E3),n=m/(n+
1),u=n/2;--l;){for(x=(L=k[l]).distance(ea=k[l-1]);u<=w+x;)Za=L.x+(ea.x-L.x)*(Ba=(u-w)/x),Ba=L.y+(ea.y-L.y)*Ba,g.ve(Za,Ba)&&(b.save(),b.translate(Za,Ba),b.rotate(-qb((ea.y-L.y)/(L.x-ea.x))+(L.x<ea.x?Ff:-Ff)),b.beginPath(),b.moveTo(-c,-d),b.lineTo(0,d),b.lineTo(c,-d),b.lineTo(0,-e),b.closePath(),b.fill(),b.restore()),u+=n;w+=x}}}};
P.prototype.uk=function(a,b,c){var d=this.wb,e=a.ib,f=d&&d[e],f=f&&f[1];f||(f=a.getGeometry(this),f=Ee(f));d[e]=[a,f];f===a.je&&He(b,c)?b.fillRect(0,0,this.Ta,this.Ta):f!==a.ke&&(d=Fe(b,c,this.xa),c=He(b,c),a=a.getHybridIdx(this),0<=a?(Ge(f,b,!0,!1,c,0,a),Ge(f,b,!1,d,!1,a)):Ge(f,b,!0,d,c))};function Ee(a){for(var b=a.length;b--;)a[b]=ze(a[b],0.6,2);return a}
function Fe(a,b,c){var d=b.Ve;d&&(a.strokeStyle=b.strokeColor,a.lineWidth=b.lineWidth*c,a.lineCap=b.lineCap,a.lineJoin=b.lineJoin,a.miterLimit=b.miterLimit,a.setLineDash&&b.lineDash!==Sa&&(a.setLineDash(b.lineDash),a.lineDashOffset=b.lineDashOffset));return d}function He(a,b){var c=b.Yb;c&&(a.fillStyle=b.fillColor);return c}
function Ge(a,b,c,d,e,f,g){var h,k,l;if(d||e)for(g===t&&(g=a.length),k=f||0;k<g;k++)if(f=a[k],h=f.length){b.beginPath();b.moveTo(f[0].x,f[0].y);for(l=1;l<h;l++)b.lineTo(f[l].x,f[l].y);c&&(b.closePath(),e&&b.fill());d&&b.stroke()}};var Ie,Je=function(){function a(){}for(var b,c,d,e=ta("o ms moz webkit "),f=5;f--&&!b;)b=e[f],b=(c=pa[b+(b?"R":"r")+"equestAnimationFrame"])&&!z(c.call(window,a))&&(d=pa[b+(b?"C":"c")+"ancelAnimationFrame"]);Ie=b?function(a){return c.call(pa,a)}:function(a){return pa.setTimeout(a,25)};return b?function(a){return d.call(pa,a)}:function(a){return pa.clearTimeout(a)}}(),Ke=pa.performance&&pa.performance.now?function(){return pa.performance.now()}:function(){return Date.now()};function Le(a,b,c){var d=[];1<arguments.length&&d.push(b);2<arguments.length&&d.push("out of ["+c[0]+"..."+c[1]+"]");this.message=(a?xa(a):"")+(d.length?" ("+d.join(" ")+")":"")}q("H.lang.OutOfRangeError",Le);Le.prototype=Error();Le.prototype.name="OutOfRangeError";function Me(a,b){var c=this;if(!da(b))throw new y(Ne,1,b);if(!da(a.next||da(a.cycle)))throw new y(Me,2,'Argument "mode" must implement H.util.AsyncQueue.Mode');this.Jh=[];this.Fh=[];this.Vj=a;this.jk=b;this.kk=function(){Oe(c)};this.xf=null;this.Yh=function(){c.xf||(c.xf=pa.setTimeout(c.kk,1))}}q("H.util.AsyncQueue",Me);Me.prototype.push=function(a,b){if(!da(b))throw new y(this.push,1,b);var c=Pe(new Qe,a,this.Yh,b);this.Jh.push(c);this.Yh();return c};Me.prototype.push=Me.prototype.push;
Me.prototype.Qd=function(){Oe(this)};function Oe(a){var b,c=a.Fh,d=0,e=a.Vj;e.qg();for(a.xf=null;d<c.length;)b=c[d],b.Zg?c.splice(d,1):d++;for(;b=e.next(a.Jh,a.Fh);)b.cancelled?b.R(null,"cancelled"):(c.push(b),a.jk(b,b.data))}function Qe(){Pe(this,null,null,null)}Me.Task=Qe;function Pe(a,b,c,d){a.data=b;a.cancelled=!1;a.Zg=!1;a.ak=c;a.bk=d;a.qe=null;return a}Qe.prototype.R=function(a,b){this.Zg=!0;this.ak();this.bk(this,a,b)};Qe.prototype.done=Qe.prototype.R;
Qe.prototype.cancel=function(){this.qe&&this.qe();this.cancelled=!0};Qe.prototype.cancel=Qe.prototype.cancel;Qe.prototype.di=function(a){this.qe=a;return this};Qe.prototype.setCancelFn=Qe.prototype.di;function Re(a,b){Re.a.constructor.call(this,new Se(a),b)}r(Re,Me);q("H.util.SequentialQueue",Re);function Se(a){if(isNaN(a)||0>a)throw new y(Re,1,'Argument "maxTime" must be a positive number');this.Sj=a;this.Tc=Ke()}Se.prototype.next=function(a){return a.length&&Ke()-this.Tc<this.Sj?a.shift():null};Se.prototype.qg=function(){this.Tc=Ke()};function Te(a){a=a||{};this.min=a.min||0;this.max=a.max||22;this.uid=""+Pa++;a.getCopyrights&&Aa(a.getCopyrights,"Function",Te)&&(this.getCopyrights=a.getCopyrights);Te.a.constructor.call(this)}r(Te,E);q("H.map.provider.Provider",Te);Te.prototype.b={m:"update"};Te.prototype.V=function(a){this.dispatchEvent(new sc(this.b.m,a))};Te.prototype.dispatchUpdate=Te.prototype.V;Te.prototype.c=function(){E.prototype.c.call(this)};Te.prototype.sa=function(){return null};Te.prototype.getCopyrights=Te.prototype.sa;function R(a,b,c){if(!(0<=a))throw new y(R,0,a);if(b&&!da(b))throw new y(R,1,b);if(c&&!da(c))throw new y(R,2,c);this.$e=+a;this.Ga=0;this.wh=b;this.filter=c;this.d={};this.Ec=this.Pb=null}q("H.util.Cache",R);R.prototype.add=function(a,b,c){var d,e;if(c!=+c||0>c)throw new y(this.add,2,c);a=String(a);d=this.d[a];e=!0;this.filter&&(e=this.filter(a,b,c));d?e?(this.Ga+=c-d.size,d.size=c,d.data=b,Ue(this,d)):this.Aa(d,!0):e&&(this.d[a]=Ve(this,{id:a,data:b,size:c,ac:null,Na:null},this.Pb));We(this);return e};
R.prototype.add=R.prototype.add;R.prototype.get=function(a,b){var c=b?this.d[a]:Ue(this,this.d[a]);return c&&c.data};R.prototype.get=R.prototype.get;R.prototype.Qi=function(a){var b;(b=this.d[a])&&this.Aa(b,!0)};R.prototype.drop=R.prototype.Qi;R.prototype.forEach=function(a,b,c){var d,e;for(e in this.d)d=this.d[e],(c?c(e,d.data,d.size):1)&&a.call(b,e,d.data,d.size)};R.prototype.Oa=function(a){var b,c;for(c in this.d)b=this.d[c],(a?a(c,b.data,b.size):1)&&this.Aa(this.d[c],!0)};
R.prototype.removeAll=R.prototype.Oa;R.prototype.Dk=function(a){this.$e=a;We(this);return this};R.prototype.setMaxSize=R.prototype.Dk;R.prototype.pj=function(){return this.$e};R.prototype.getMaxSize=R.prototype.pj;R.prototype.cj=function(){return this.Ga};R.prototype.getCurrentSize=R.prototype.cj;function Ue(a,b){b&&(a.Pb=Ve(a,b,a.Pb));return b}function We(a){for(;a.Ga>a.$e&&a.Ec;)a.Aa(a.Ec,!0)}
function Ve(a,b,c){if(c!==b){(b.ac||b.Na)&&a.Aa(b);if(b.ac=c)b.Na=c.Na,c.Na=b;b.Na||(a.Pb=b);b.ac||(a.Ec=b);a.Ga+=b.size}return b}R.prototype.Aa=function(a,b){var c=a.Na,d=a.ac;if(c||d||a==this.Pb&&a==this.Ec)c?c.ac=d:this.Pb=d,d?d.Na=c:this.Ec=c,this.Ga-=a.size,b&&(this.wh&&this.wh(a.id,a.data,a.size),delete this.d[a.id]);a.ac=a.Na=null;return a};function Xe(a){var b;wa(this,Xe);Xe.a.constructor.call(this,a);if("tileSize"in a){b=ib(+a.tileSize)/sb;if(isNaN(b)||b%1||0>b||30<b)throw new y(Xe,0,"tileSize: "+a.tileSize);this.tileSize=+a.tileSize}}r(Xe,Te);q("H.map.provider.TileProvider",Xe);Xe.prototype.createTileInternal=Xe.prototype.pg;Xe.prototype.Og=function(a,b,c){return this.uid.concat("_",a,"_",b,"_",c)};Xe.prototype.getTileKey=Xe.prototype.Og;Xe.prototype.tileSize=256;function Ye(a,b){Ye.a.constructor.call(this,b);this.za=a;this.xa=b.pixelRatio;this.tileSize*=eb(this.xa);this.uf=s(this.uf,this);this.nf=s(this.nf,this);this.yf=s(this.yf,this);this.tf=s(this.tf,this);this.sf=s(this.sf,this);this.za.addEventListener(Te.prototype.b.m,this.sf,!1,this);this.Lb=[];this.be=new R(b.tileCacheSize||256,this.uf);this.md=new R(b.dataCacheSize||512,this.nf);this.Qh=new Re(20,this.yf);this.rb={};this.gh=Ke()}r(Ye,Xe);q("H.map.provider.SpatialTileProvider",Ye);
Ye.prototype.sf=function(a){a.target.type===qd.SPATIAL&&this.V(a.target)};Ye.prototype.oa=function(a,b,c,d){var e=this.getTileKey(a,b,c),f;if(f=this.be.get(e,d)){if(d||f.Te())return f;this.md.add(e,f,1)}f=this.md.get(e,d);var g;(g=f)&&!(g=d)&&(g=f,g.va&&De(g),g=g.va);if(g)return a=this.Lb.pop()||document.createElement("canvas"),f.ba(a)||this.Lb.push(a),this.be.add(e,f,1),f;d||((f=this.rb[e])?f.count++:(f=this.Qh.push([e,a,b,c],this.tf),f.count=1,this.rb[e]=f))};Ye.prototype.requestTile=Ye.prototype.oa;
Ye.prototype.Qd=function(){var a=Ke();33<a-this.gh&&(this.Qh.Qd(),this.gh=a)};Ye.prototype.Fa=function(a,b,c){this.gd(this.getTileKey(a,b,c))};Ye.prototype.cancelTile=Ye.prototype.Fa;Ye.prototype.gd=function(a){var b;if(b=this.rb[a])b.count--,b.count||(b.cancel(),delete this.rb[a])};Ye.prototype.cancelTileByKey=Ye.prototype.gd;p=Ye.prototype;
p.yf=function(a,b){var c=new P(b[0],b[1],b[2],b[3],this.tileSize,this.xa,this.za),d=this.Lb.pop()||document.createElement("canvas");c.ba(d)||this.Lb.push(d);b.push(c);a.R(c)};p.tf=function(a,b){var c=a.data[0];b&&this.be.add(c,b,1);delete this.rb[c];this.V()};p.uf=function(a,b){b.data&&this.Lb.push(b.Mh());this.md.add(a,b,1)};p.nf=function(a,b){b.Nh()};p.c=function(){for(var a in this.rb)this.rb[a].cancel();this.be.Oa();this.md.Oa();this.Lb.length=0;Ye.a.c.call(this)};function Ze(a,b){var c=b||{};if(!a)throw new y($e,0,a);this.V=s(this.V,this);this.k=a;this.k.addEventListener(Te.prototype.b.m,this.V,!1,this);this.tileSize=a.tileSize;this.ce={};N.call(this,{min:this.k.min,max:this.k.max,minWorldSize:this.tileSize,projection:c.Wk,dark:c.dark})}r(Ze,N);q("H.map.layer.BaseTileLayer",Ze);Ze.prototype.ja=function(){return this.k};Ze.prototype.getProvider=Ze.prototype.ja;
Ze.prototype.od=function(a,b){var c,d=this.pixelProjection,e;if(!v(a,B))throw new y(this.od,0,a);z(b)||(c=d.Qg(),d.F(b));e=af(d.geoToPixel(a.gb()),d.geoToPixel(a.$a()));!z(c)&&d.F(c);return e};Ze.prototype.geoRectToRect=Ze.prototype.od;Ze.prototype.Bc=function(a,b){if(!v(a,Q))throw new y(this.Bc,0,a);if(z(b=+b))throw new y(this.Bc,1,b);var c=kb(2,fb(b)),d=this.tileSize,e,f;e=fb(a.left/d);e===c&&(e-=1);f=fb(a.right/d);f===c&&(f-=1);return new Q(e,Cb(fb(a.top/d),0,c-1),f,Cb(fb(a.bottom/d),0,c-1))};
Ze.prototype.getTileBounds=Ze.prototype.Bc;Ze.prototype.oa=function(a,b,c,d){return this.k.requestTile(a,b,c,d)};Ze.prototype.Fa=function(a,b,c){this.k.cancelTile(a,b,c)};Ze.prototype.cancelTile=Ze.prototype.Fa;Ze.prototype.sa=function(a,b){return this.k.getCopyrights?this.k.getCopyrights(a,b):null};Ze.prototype.getCopyrights=Ze.prototype.sa;
Ze.prototype.yc=function(a,b,c,d,e){if(!v(a,Q))throw new y(this.yc,0,a);if(z(c=+c))throw new y(this.yc,1,c);var f=fb(c),g=kb(2,f);c=[];var h=0,k={},l=a.left,m=a.top,n=a.right,u=n+(b?g+(n===a.left?0:1):1),w=a.bottom,x;b=[];for(var L=this.k,ea=L.requestTile,n=l+(1+n-l)/2+e.x/this.tileSize-0.5,Ba=m+(1+w-m)/2+e.y/this.tileSize-0.5;l<u;){for(m=a.top;m<=w;)e=l%g,k[L.Og(e,m,f)]=!0,b.push([e,m,f,d,hb(n-l)+hb(Ba-m)]),m++,h++;l++}if(h)for(d||b.sort(bf),a=h;a--;)(x=ea.apply(L,b[a]))&&c.push(x);if(!d){for(var Za in this.ce)this.ce.hasOwnProperty(Za)&&
this.ce[Za]&&!k[Za]&&this.k.cancelTileByKey(Za);this.ce=k}return{total:h,tiles:c}};Ze.prototype.getProviderTiles=Ze.prototype.yc;function bf(a,b){return b[4]-a[4]};function cf(a,b){cf.a.constructor.call(this,new df(a),b)}r(cf,Me);q("H.util.ParallelQueue",cf);function df(a){if(isNaN(a)||0>a)throw new y(cf,1,'Argument "maxParallel" must be a positive number');this.Rj=a}df.prototype.next=function(a,b){return a.length&&b.length<this.Rj?a.shift():null};df.prototype.qg=function(){};function ef(a,b,c){var d=this;this.Ff=new cf(a||6,function(a){ff(d,a)});this.uc=c||document;this.Hd=s(this.Hd,this);this.He=null;b&&(this.Ed=this.Xj)}q("H.net.ImageLoader",ef);ef.prototype.load=function(a,b,c,d){if(!a||!ca(a))throw new y(ef.prototype.load,0,a);if(!da(b))throw new y(ef.prototype.load,1,b);if(c&&!da(c))throw new y(ef.prototype.load,2,c);return this.Ff.push({url:a,jg:b,Ag:c,crossOrigin:d},this.Hd)};ef.prototype.load=ef.prototype.load;
ef.prototype.Hd=function(a,b,c){b?Na?Ya(b)?setTimeout(s(a.data.jg,a.data,b),0):setTimeout(s(this.Hd,this,a,b,c),0):a.data.jg(b):a.data.Ag&&a.data.Ag(c||"failed")};function ff(a,b){var c=b.data,d;d=a.Ed(function(){var c=d.element;c.ownerDocument!==a.uc&&(d.element=c=a.uc.importNode(c,!0));b.R(c,null)},function(a){b.R(null,a)});b.di(d.cancel);c.crossOrigin&&(d.element.crossOrigin=c.crossOrigin);d.element.src=c.url}
ef.prototype.Ed=function(a,b){var c=this.uc.createElement("img");c.onload=a;c.onerror=b;return{element:c,cancel:function(){c.onerror=c.onload=null;c.removeAttribute("src");b("cancelled")}}};ef.prototype.Xj=function(a,b){this.He||(this.He=new gf(this.uc));return this.He.Ed(a,b)};function gf(a){this.frame=a.createElement("iframe");this.frame.style.display="none";this.Pf=[];this.uc=a;a.body.appendChild(this.frame)}
gf.prototype.Ed=function(a,b){var c=this,d=this.Pf.pop()||this.frame.contentDocument.createElement("iframe"),e,f;f=function(a){e.onload=e.onerror=null;c.Pf.push(d);b(a)};d.parentNode||this.frame.contentDocument.body.appendChild(d);e=new d.contentWindow.Qk;e.onload=function(){e.onload=e.onerror=null;c.Pf.push(d);a()};e.onerror=f;return{element:e,cancel:function(){d.contentWindow.stop();f("cancelled")}}};var ie=new ef;q("H.net.images",ie);function S(a){wa(this,S);S.a.constructor.call(this,a);this.$={};this.entryWeight=1;this.ed=this.getCache();this.Kb=s(this.Kb,this)}r(S,Xe);q("H.map.provider.RemoteTileProvider",S);var hf=new R(65536);S.cache=hf;S.prototype.Jg=function(){return hf};S.prototype.getCache=S.prototype.Jg;S.prototype.Kb=function(a){return+ta(a,"_")[0]===+this.uid};S.prototype.cacheFilter=S.prototype.Kb;S.prototype.requestInternal=S.prototype.Sd;S.prototype.pg=function(a,b,c,d){return new Ae(a,b,c,d)};
S.prototype.createTileInternal=S.prototype.pg;S.prototype.Ri={cancel:function(){}};
S.prototype.oa=function(a,b,c,d){var e=this,f,g,h=this.ed,k=this.$;if(z(a=+a))throw new y(this.oa,0,a);if(z(b=+b))throw new y(this.oa,0,b);if(z(c=+c))throw new y(this.oa,0,c);c=~~c;f=this.getTileKey(a,b,c);g=h.get(f);g&&g.valid||d||this.$[f]||(k[f]=this.Ri,d=this.requestInternal(a,b,c,function(d,k){delete e.$[f];g=e.createTileInternal(a,b,c,d,k);g.key=f;h.add(f,g,e.entryWeight);e.V()},function(){delete e.$[f]}),k[f]&&d&&(k[f]=d));return g};S.prototype.requestTile=S.prototype.oa;
S.prototype.gd=function(a){var b=this.$[a];b&&(b.cancel(),delete this.$[a])};S.prototype.cancelTileByKey=S.prototype.gd;S.prototype.Fa=function(a,b,c){this.cancelTileByKey(this.getTileKey(a,b,c))};S.prototype.cancelTile=S.prototype.Fa;S.prototype.reload=function(a){var b;a?this.ed.Oa(this.Kb):this.ed.forEach(this.Nj,this,this.Kb);for(b in this.$)this.$[b].cancel();this.$={};this.V()};S.prototype.reload=S.prototype.reload;S.prototype.Nj=function(a,b){b.valid=!1};
S.prototype.c=function(){var a;this.ed.Oa(this.Kb);for(a in this.$)this.$[a].cancel(),delete this.$[a]};function Ne(a){if(!a||!da(a.getURL))throw new y(Ne,0,"options.getURL");Ne.a.constructor.call(this,a);this.Fj=a.getURL;this.entryWeight=this.tileSize=a.tileSize||256;this.Ki=a.crossOrigin}r(Ne,S);q("H.map.provider.ImageTileProvider",Ne);Ne.prototype.Sd=function(a,b,c,d,e){var f=this,g=this.Fj(a,b,c),h,k=pa.setTimeout(function(){h=ie.load(g,d,e,f.Ki)},150);return{cancel:function(){h?h.cancel():pa.clearTimeout(k)}}};Ne.prototype.requestInternal=Ne.prototype.Sd;function Q(a,b,c,d){this.left=+a;this.top=+b;this.right=+c;this.bottom=+d}q("H.math.Rect",Q);Q.prototype.set=Q;Q.prototype.set=Q.prototype.set;Q.prototype.gb=function(){return this.Wc||(this.Wc=new J(this.left,this.top))};Q.prototype.getTopLeft=Q.prototype.gb;Q.prototype.$a=function(){return this.rc||(this.rc=new J(this.right,this.bottom))};Q.prototype.getBottomRight=Q.prototype.$a;Q.prototype.ve=function(a,b){return this.left<=a&&this.right>=a&&this.top<=b&&this.bottom>=b};
Q.prototype.containsXY=Q.prototype.ve;function af(a,b){return new Q(a.x,a.y,b.x,b.y)}Q.fromPoints=af;Q.prototype.da=function(){return new Q(this.left,this.top,this.right,this.bottom)};Q.prototype.clone=Q.prototype.da;function $e(a,b){var c=b||{};this.opacity=c.opacity||1;Ze.call(this,a,c)}r($e,Ze);q("H.map.layer.TileLayer",$e);$e.prototype.Qa=function(a,b,c,d){if(!v(a,B))throw new y(this.Qa,0,a);if(z(b=+b))throw new y(this.Qa,1,b);var e;b=fb(b);this.pixelProjection.F(b);a=this.od(a);e=this.Bc(a,b);return this.yc(e,a.left>a.right,b,c,d)};$e.prototype.requestTiles=$e.prototype.Qa;function jf(a,b){var c=b||{};c.tileSize=c.tileSize||256;c.pixelRatio=c.pixelRatio||1;this.Ab=new Ye(a,c);this.Bb=new $e(this.Ab,{opacity:1});c.minWorldSize=this.Ab.tileSize;jf.a.constructor.call(this,c);this.opacity=this.Bb.opacity;this.tileSize=this.Bb.tileSize;this.za=a;this.Id=s(this.Id,this);this.Ab.addEventListener(this.Ab.b.m,this.Id);this.za.addEventListener("update",this.Id)}r(jf,N);q("H.map.layer.ObjectLayer",jf);
jf.prototype.Id=function(a){a.currentTarget!==this.Ab&&a.target.type===qd.SPATIAL||this.V()};jf.prototype.ja=function(){return this.za};jf.prototype.getProvider=jf.prototype.ja;var kf={markers:Sa,total:0};jf.prototype.zb=function(a,b,c){var d=this.za,e;return d.providesMarkers()&&(e=d.requestMarkers(a,b,!0,c)).length?{markers:e,total:e.length}:kf};jf.prototype.requestMarkers=jf.prototype.zb;
jf.prototype.yb=function(a,b,c){var d=this.za,e;return d.providesDomMarkers()&&(e=d.requestDomMarkers(a,b,!0,c)).length?{markers:e,total:e.length}:kf};jf.prototype.requestDomMarkers=jf.prototype.yb;var lf={tiles:Sa,total:0};jf.prototype.Qa=function(a,b,c,d){var e;this.za.providesSpatials()?(e=this.Bb.Qa(a,b,c,d),c||(this.Ab.Qd(),e=this.Bb.Qa(a,b,!0,d))):e=lf;return e};jf.prototype.requestTiles=jf.prototype.Qa;jf.prototype.oa=function(a,b,c,d){return this.Bb.oa(a,b,c,d)};jf.prototype.requestTile=jf.prototype.oa;
jf.prototype.Fa=function(a,b,c){this.Bb.Fa(a,b,c)};jf.prototype.cancelTile=jf.prototype.Fa;jf.prototype.c=function(){this.Ab.g();this.Bb.g();this.za.dispose();jf.a.c.call(this)};function mf(a,b){var c=b||{},d,e;if(!v(a,Element))throw new y(mf,0,a);d=a.ownerDocument.createElement("div");this.t=a;mf.a.constructor.call(this);this.padding=new Q(0,0,0,0);this.center=new J(0,0);this.margin=0;this.element=d;d.style.zIndex=0;d.style.height=d.style.width="100%";d.style.position="relative"===a.style.position?"absolute":"relative";this.resize();a.appendChild(d);(e=c.padding)!==t&&this.Kf(e.top,e.right,e.bottom,e.left);this.Jf((e=c.margin)!==t?e:0);(e=c.fixedCenter)!==t&&(this.Cg=!!e)}
r(mf,E);q("H.map.ViewPort",mf);mf.prototype.b={m:"update",pc:"sync"};mf.prototype.Cg=!0;mf.prototype.Jf=function(a){if(this.margin!==+a){if(z(this.margin=+a))throw new y(this.Jf,0,a);nf(this);this.dispatchEvent(this.b.m)}};mf.prototype.setMargin=mf.prototype.Jf;mf.prototype.Kf=function(a,b,c,d){var e=this.padding;if(e.top!==a||e.right!==b||e.bottom!==c||e.left!==d){if(z(a+b+c+d))throw new y(this.Kf);e.top=a;e.right=b;e.bottom=c;e.left=d;nf(this);this.dispatchEvent(this.b.m)}};
mf.prototype.setPadding=mf.prototype.Kf;function nf(a){var b=a.padding;a.center.set((a.width+b.left-b.right)/2<<0,(a.height+b.top-b.bottom)/2<<0)}mf.prototype.resize=function(){var a=this.t.offsetWidth,b=this.t.offsetHeight;if(this.width!==a||this.height!==b)this.$j=new of(this.width,this.height),this.width=a,this.height=b,nf(this),this.dispatchEvent(this.b.m)};mf.prototype.resize=mf.prototype.resize;mf.prototype.ae=function(a){this.dispatchEvent(new je(this.b.pc,this.$j,a,je.prototype.SIZE))};
mf.prototype.c=function(){pa.clearTimeout(this.Ji);this.Ji=null;this.t.removeChild(this.element);this.element=this.t=null;mf.a.c.call(this)};mf.prototype.startInteraction=mf.prototype.Ca;mf.prototype.interaction=mf.prototype.ta;mf.prototype.endInteraction=mf.prototype.endInteraction;function pf(a){var b;wa(this,pf);pf.a.constructor.call(this,a);this.lb=a=[];for(b in qd)a[qd[b]]=new D}r(pf,Te);q("H.map.provider.ObjectProvider",pf);pf.prototype.cb=function(a){return this.lb[a||qd.ANY]};pf.prototype.getInvalidations=pf.prototype.cb;pf.prototype.kb=function(a,b){var c,d;b!==oc.NONE&&(d=this.lb[qd.ANY],c=d.Hb+1,d.update(c,b),d=this.lb[a.type],d.update(c,b),a.cb().update(c,b),this.V(a))};pf.prototype.invalidateObject=pf.prototype.kb;pf.prototype.Af=Qa;
pf.prototype.providesSpatials=pf.prototype.Af;pf.prototype.requestSpatials=pf.prototype.Sh;pf.prototype.requestSpatialsByTile=pf.prototype.Th;pf.prototype.zf=Qa;pf.prototype.providesMarkers=pf.prototype.zf;pf.prototype.requestMarkers=pf.prototype.zb;pf.prototype.Lc=Qa;pf.prototype.providesDomMarkers=pf.prototype.Lc;pf.prototype.requestDomMarkers=pf.prototype.yb;function of(a,b){this.w=+a;this.h=+b}q("H.math.Size",of);function T(a,b){var c,d;T.a.constructor.call(this);if(b){c="size";if(c in b){d=b[c];if(!d||isNaN(d.w)||isNaN(d.h))throw new y(T,1,c);this.jc=new of(d.w,d.h)}c="anchor";if(c in b){d=b[c];if(!d||isNaN(d.x)||isNaN(d.y))throw new y(T,1,c);this.ca=new J(d.x,d.y)}c="hitArea";c in b&&(d=b[c],v(d,qf,T,1),this.Qe=b[c]);c="asCanvas";c in b&&(d=b[c],this.ne=!(d!==t&&!b[c]))}c=a;switch(rf[Ca(c)]){case 2:sf(this,c,!1);this.Ea=c;this.v=1;break;case 1:if(Ya(c)){sf(this,c,!0);this.Ea=this.ne?tf(this,c):c;this.v=
1;break}c=c.src;case 0:if(c){c=Oa(c);this.v=0;this.wd=ie.load(c,s(this.dk,this),s(this.ck,this));break}default:throw this.v=-1,new y(T,0,"No image data");}}r(T,E);q("H.map.Icon",T);T.prototype.dg={ERROR:-1,LOADING:0,READY:1};T.prototype.State=T.prototype.dg;T.prototype.v=0;T.prototype.getState=function(){return this.v};T.prototype.getState=T.prototype.getState;T.prototype.b={cg:"statechange"};T.prototype.ne=!0;
function tf(a,b){var c=document.createElement("CANVAS");c.getContext("2d").drawImage(b,0,0,c.width=a.jc.w,c.height=a.jc.h);return c}T.prototype.Ea=sa;T.prototype.Zi=function(){return this.Ea};T.prototype.getBitmap=T.prototype.Zi;var rf={String:0,HTMLImageElement:1,HTMLCanvasElement:2};T.prototype.jc=sa;T.prototype.Vb=function(){return this.jc};T.prototype.getSize=T.prototype.Vb;T.prototype.ca=sa;T.prototype.Ie=function(){return this.ca};T.prototype.getAnchor=T.prototype.Ie;
function sf(a,b,c){var d,e,f,g,h;if(d=a.jc)e=d.w,c=d.h;else{e=b.naturalWidth||b.width;if(0===e&&c&&Na){f=!0;if(g=b.parentNode)h=b.nextSibling;document.body.appendChild(b)}a.jc=new of(e=b.naturalWidth||b.width,c=b.naturalHeight||b.height);f&&(g?g.insertBefore(b,h):document.body.removeChild(b))}a.ca||(a.ca=new J(e/2|0,c))}T.prototype.Qe=sa;T.prototype.dj=function(){return this.Qe};T.prototype.getHitArea=T.prototype.dj;
T.prototype.dk=function(a){delete this.wd;sf(this,a,!0);this.Ea=this.ne?tf(this,a):a;this.v=1;this.dispatchEvent(this.b.cg)};T.prototype.ck=function(){this.v=-1;this.dispatchEvent(this.b.cg);delete this.wd};T.prototype.c=function(){T.a.c.call(this);this.Ea?(this.Ea.removeAttribute("src"),delete this.Ea):this.wd&&this.wd.cancel()};function G(a){a=a||{};G.a.constructor.call(this,a);this.Wh=a=new O({provider:this,min:a.min,max:a.max});a.U(this);this.Sc=new jc;this.Jc=new jc;this.nd=new jc}r(G,pf);q("H.map.provider.LocalObjectProvider",G);G.prototype.Ub=function(){return this.Wh};G.prototype.getRootGroup=G.prototype.Ub;G.prototype.kb=function(a,b){b&oc.SPATIAL&&this.A(a);G.a.kb.call(this,a,b)};G.prototype.invalidateObject=G.prototype.kb;
G.prototype.A=function(a){var b;v(a,F,this.A,0);if(a.k!==this)throw new uc(this.A,"foreign object");this.N(a);if(v(a,uf))b=a.getPosition(),b=this.Jc.yd(new A(b.lat,b.lng));else if(v(a,vf))b=a.getPosition(),b=this.nd.yd(new A(b.lat,b.lng));else{b=this.Sc;var c=a.o(),d=c.gb(),e=c.$a();b=(c=c.Wb())?b.jb(d.lat,e.lng,e.lat,d.lng,c):b.jb(d.lat,d.lng,e.lat,e.lng,c)}b.Vf=a;a.Uf=b};
G.prototype.N=function(a){var b;if(a)if(a.k!==this){if(v(a,F))throw new uc(this.A,"foreign object");}else if(b=a.Uf)(v(a,uf)?this.Jc:v(a,vf)?this.nd:this.Sc).remove(b),delete b.Vf,delete a.Uf};G.prototype.removeObject=G.prototype.N;
function wf(a,b,c,d,e){var f,g,h;if(b.Ob){a=b!==a.Jc;e=!e;b=nc(b,c);g=0;c=b.length;for(f=0;f<c;f++){h=b[f].Vf;for(var k=eb(d),l=h,m=void 0;(m=l.sh<=k&&l.qh>=k)&&(l=l.S););m&&(e||h.getVisibility(!0))&&(a||1===h.icon.getState())&&(b[g++]=h)}b.length=g}else b=Sa;return b}G.prototype.Af=function(){return 0<this.Sc.Ob};G.prototype.providesSpatials=G.prototype.Af;G.prototype.Sh=function(a,b,c){return wf(this,this.Sc,a,b,c)};G.prototype.requestSpatials=G.prototype.Sh;
G.prototype.Th=function(a,b){return wf(this,this.Sc,a.qd(),a.z,b)};G.prototype.requestSpatialsByTile=G.prototype.Th;G.prototype.zf=function(){return 0<this.Jc.Ob};G.prototype.providesMarkers=G.prototype.zf;G.prototype.zb=function(a,b,c){return wf(this,this.Jc,a,b,c)};G.prototype.requestMarkers=G.prototype.zb;G.prototype.Lc=function(){return 0<this.nd.Ob};G.prototype.providesDomMarkers=G.prototype.Lc;G.prototype.yb=function(a,b,c){return wf(this,this.nd,a,b,c)};G.prototype.requestDomMarkers=G.prototype.yb;
G.prototype.c=function(){this.Wh.Oa();G.a.c.call(this)};function xf(a,b,c){this.Fc=a;this.kc=b;this.zg=!(!c||!c.enableSubpixelRendering);this.ownerDocument=b.re.ownerDocument;this.Ze={}}r(xf,pc);
xf.prototype.ba=function(a,b,c,d,e,f){var g,h,k=this.Fc,l,m,n,u=this.zg,w;this.hk=g=this.Ze;this.Ze=h={};if(d>=k.min&&d<=k.max&&(l=this.Bg(a,d,e,f),m=l.markers.sort(yf),a=m.length))for(d=this.kc,d.setOpacity(k.opacity),k=0;k<a;k++)e=m[k],f=c.geoToPixel(e.getPosition()),n=c.w,f.x-=eb(f.x/n)*n,f.add(b),u||f.round(),(n=g[w=e.ib])?delete g[w]:n={marker:e},h[w]=n,this.renderMarker(n,e,e.icon,d,f.x,f.y);return!l||l.requested&&l.requested===l.total||!l.requested&&m.length===l.total};
function yf(a,b){return a.jd(b)};function zf(a,b,c){this.Dd=[];zf.a.constructor.apply(this,arguments)}r(zf,xf);p=zf.prototype;p.Bg=function(){return this.Fc.zb.apply(this.Fc,arguments)};p.ba=function(){this.Dd=[];return zf.a.ba.apply(this,arguments)};p.renderMarker=function(a,b,c,d,e,f){var g=c.Vb();b=this.zg;var h=g.w,g=g.h,k=c.ca;e-=b?k.x:eb(k.x);f-=b?k.y:eb(k.y);d.Nb(c.Ea,e,f,h,g);a.xe?a.xe.set(e,f,e+h,f+g):a.xe=new Q(e,f,e+h,f+g);this.Dd.push(a)};
p.I=function(a,b,c){for(var d=this.Dd,e=d.length,f,g,h,k;e--;)if(f=d[e],g=f.xe,g.ve(a,b)&&(f=f.marker,!(h=f.icon.Qe)||h.Sg(a-g.left,b-g.top,0)))if(k)k.push(f);else if(k=[f],c)break;return k||Sa};p.c=function(){this.Dd=null;zf.a.c.call(this)};function U(a,b){if(z(this.x=+a))throw new y(U,0,a);if(z(this.y=+b))throw new y(U,1,b);}q("H.math.Vector",U);U.prototype.add=function(a){return new U(this.x+a.x,this.y+a.y)};U.prototype.add=U.prototype.add;U.prototype.Hk=function(a){return new U(this.x-a.x,this.y-a.y)};U.prototype.subtract=U.prototype.Hk;U.prototype.Ae=function(a){if(!v(a,U))throw new y(this.Ae,0,a);a=this.multiply(a);return a.x+a.y};U.prototype.dot=U.prototype.Ae;
U.prototype.multiply=function(a){if(!v(a,U))throw new y(this.multiply,0,a);return new U(this.x*a.x,this.y*a.y)};U.prototype.multiply=U.prototype.multiply;U.prototype.F=function(a){return new U(this.x*a,this.y*a)};U.prototype.rescale=U.prototype.F;U.prototype.Ic=function(){return jb(this.Ae(this))};U.prototype.magnitude=U.prototype.Ic;U.prototype.normalize=function(){var a=this.Ic();return 0!==a?new U(this.x/a,this.y/a):this};U.prototype.normalize=U.prototype.normalize;function Af(a){a=a||{};this.Uj=a.minSpeed||3;this.si=a.vectorTolerance||3;this.ph=a.maxSpeed||300;this.Kk=a.timeTolerance||50;this.ya=[];this.Cc=this.Nc=!1;this.sb=this.fa=null}function Bf(a,b){var c,d,e,f;b?(a.bifocal&&b.bifocal?(c=Cf(a),d=Cf(b)):b.bifocal?(c=Df(a),e=Df(b).distance(c),f=Df(b,!0).distance(c),d=e>f?Df(b,!0):Df(b)):a.bifocal&&!b.bifocal?(d=Df(b),e=Df(a).distance(d),f=Df(a,!0).distance(d),c=e>f?Df(a,!0):Df(a)):(c=a,d=b),e=c.x-d.x,c=c.y-d.y,c=new U(e,c)):c=new U(0,0);return c}
function Ef(a){var b;if(!a||z(a.bx)||z(a.by))return 0;b=a.bx-a.x;a=a.by-a.y;return jb(b*b+a*a)}function Cf(a){var b,c;!a||z(a.bx)||z(a.by)||(b=a.x-a.bx,c=a.y-a.by,b=new J(a.x-b/2,a.y-c/2));return b}function Df(a,b){return b?new J(a.bx,a.by):new J(a.x,a.y)}p=Af.prototype;p.start=function(a,b){if(z(a))throw new y(this.start,0,a);this.Nc&&this.clear();this.Wj=a;this.Nc=!0;this.Cc=!!b};
p.oi=function(a,b,c,d,e){var f=z(a)?0:z(b)?1:null!=c&&z(c)?2:null!=d&&z(d)?3:null!=e&&z(e)?4:t;if(0<=f)throw new y(this.oi,f,arguments[f]);this.Nc&&(e=e||(new Date).getTime(),this.sb=this.fa,this.fa={x:a,y:b,bx:null!=c?c:NaN,by:null!=d?d:NaN,ts:e,bifocal:null!=c&&null!=d},this.Cc&&this.ya.push(this.fa))};p.clear=function(){this.ya=[];this.Cc=this.Nc=!1;this.fa=this.sb=null};p.ud=function(a){if(z(a))throw new y(this.ud,0,a);return!!(this.Wj&a)};p.ga=function(){return this.Nc};
p.Le=function(){var a=this.ya.length,b=0,c=new U(0,0);if(this.Cc)for(;--a&&b<this.si;)c=c.add(Bf(this.ya[a],this.ya[a-1])),b++;else c=Bf(this.fa,this.sb);return c.normalize()};p.zc=function(a){a=a||Date.now();var b=this.ya.length,c=this.ya[b-1],d=0,e=0;if(this.Cc){for(;--b&&d<this.si;)e+=Bf(this.ya[b],this.ya[b-1]).Ic(),d++;b=e/d}else c=this.fa,b=Bf(this.fa,this.sb).Ic();return b=b>=this.Uj&&a-c.ts<=this.Kk?b>this.ph?this.ph:b:0};
p.Ig=function(a){var b;b=this.fa;var c;if(z(a))throw new y(this.Ig,0,a);b&&this.sb&&(b=Ef(this.sb),0!==b&&(c=Ef(this.fa),a=ib(kb(2,a)*(c/b))/sb));return a};function Gf(){this.nh=91.401472;this.reset()}r(Gf,E);Gf.prototype.start=function(a,b){this.Ka&&this.reset();z(a)||z(b)||(this.atX=a,this.atY=b);this.Ka=!0};Gf.prototype.b={Wf:"animationupdate"};function Hf(a){Hf.a.constructor.call(this,Gf.prototype.b.Wf);this.offset=a}r(Hf,sc);p=Gf.prototype;p.ga=function(){return this.Ka};p.set=function(a,b,c){!this.Ka||this.cf===a&&this.df===b&&this.ef===c||(this.cf=a,this.df=b,this.ef=c,this.dispatchEvent(new Hf(If(this))))};
function If(a){return{x:a.cf*a.nh,y:a.df*a.nh,z:a.ef}}p.reset=function(){this.Ka=!1;this.atY=this.atX=null;this.ef=this.df=this.cf=0};p.zc=function(){var a=If(this);return jb(a.x*a.x+a.y*a.y+a.z*a.z)};p.Le=function(){var a=If(this),b=this.zc()||1;return{x:a.x/b,y:a.y/b,z:a.z/b}};p.c=function(){this.reset();Gf.a.c.call(this)};function Jf(a,b,c,d){Jf.a.constructor.call(this);this.re=a;this.s=d;this.element=a.appendChild(this.createElement(a.ownerDocument));Kf(this,b,c)}r(Jf,pc);p=Jf.prototype;p.bb=function(){return this.element};function Kf(a,b,c){a.ki(a.element,a.element.style,a.width=b,a.height=c,a.s)}p.Vb=function(){return{width:this.width,height:this.height,s:this.s}};p.opacity=1;p.setOpacity=function(a){this.opacity!==a&&(this.gi(a),this.opacity=a)};
p.c=function(){this.clear();this.re.removeChild(this.element);Kf(this,0,0);this.element=this.re=null;Jf.a.c.call(this)};function Lf(a,b,c,d){Lf.a.constructor.apply(this,arguments)}r(Lf,Jf);p=Lf.prototype;p.createElement=function(a){a=a.createElement("DIV");a.style.position="absolute";return a};p.ki=function(a,b,c,d){b.width=c+"px";b.height=d+"px"};p.gi=function(a){this.element.style.opacity=a};p.Nb=function(a,b,c){var d=this.s,e=a.style;e.webkitTransform=e.Uk=e.Vk=e.msTransform=e.transform="matrix("+[1,0,0,1,b/d,c/d].join()+")";a.parentNode!==this.element&&(e.position="absolute",this.element.appendChild(a))};
p.clear=function(a){a?this.element.removeChild(a):this.element.innerHTML=""};var Mf={zoom:{min:-8,max:22},camera:{alt:{min:0,max:0},pitch:{min:0,max:0},roll:{min:0,max:0},yaw:{min:0,max:0},fov:{min:70,max:70}},interaction:{ZOOM:1,Pk:16},capture:!0};q("H.map.render.p2d.capabilities",Mf);function Nf(a,b,c){if(!a)throw new y(Nf,0,a);if(!b)throw new y(Nf,1,b);this.lh=a;this.Da=b;this.Bh={};this.Ce=c&&c.enableSubpixelRendering}
Nf.prototype.ba=function(a,b,c,d,e,f){var g=eb(d),h=this.lh,k=g+(c.exp-h.pixelProjection.exp),l=h.max;d=h.tileSize;var m=h.opacity,n,u=this.Da,w=u.opacity;n=u.Vb().width;var x=c.w,L=c.x,ea=c.y,Ba={};if(g<h.min||g>l)return!0;e=h.Qa(a,k,e,f);a=e.total;e=e.tiles;f=e.length;this.mk=c;this.Bk=b;this.Sf=k;w!==m&&u.setOpacity(m);c=d=d*x/(kb(2,k)*d);this.Ce||(d%1&&(d=fb(d),x=c/d,L/=x,ea/=x,x=kb(2,k)*d),L=fb(L),ea=fb(ea));this.wk=c;k=-d;g=n+d;for(h=0;h<f;h++){n=e[h];if(l=n.data){c=b.x-(L-n.x*d);m=b.y-(ea-
n.y*d);u.Nb(l,c,m,d,d);for(w=c;(w-=x)>k;)u.Nb(l,w,m,d,d);for(w=c;(w+=x)<g;)u.Nb(l,w,m,d,d)}Ba[this.Sf+"_"+n.x+"_"+n.y]=n}this.Bh=Ba;return f===a};Nf.prototype.I=function(a,b,c){if(this.Sf!==t){var d=this.wk,e=d/this.lh.tileSize,f=this.mk,g=this.Bk,h,k;a=f.x+(a-g.x);b=f.y+(b-g.y);h=fb(f.w/d);var l=f=fb(a/d),g=fb(b/d);hb(l)>=h&&(l%=h);0>l&&(l=h+l);(h=this.Bh[this.Sf+"_"+l+"_"+g])&&h.I&&(k=h.I((a-d*f)/e,(b-d*g)/e,c))}return k||Sa};q("H.util.animation.ease.LINEAR",function(a){return a});q("H.util.animation.ease.EASE_IN_QUAD",function(a){return a*a});function Of(a){return-a*(a-2)}q("H.util.animation.ease.EASE_OUT_QUAD",Of);q("H.util.animation.ease.EASE_IN_OUT_QUINT",function(a){a*=2;return 1>a?kb(a,5)/2:(a-=2,kb(a,5)/2+1)});q("H.util.animation.ease.EASE_OUT_CIRC",function(a){return jb(2*a-a*a)});function Pf(a,b){if(z(this.me=+a))throw new y(Pf,0,a);this.Xd=this.Be=0;b&&this.fi(b)}q("H.util.kinetics.KineticMove",Pf);Pf.prototype.fi=function(a){this.Xd=a;this.Be=this.Mg();return this};Pf.prototype.setInitialSpeed=Pf.prototype.fi;Pf.prototype.Mg=function(){return Math.abs(this.Xd/this.me)};Pf.prototype.getDuration=Pf.prototype.Mg;Pf.prototype.Ke=function(a){return this.Xd+this.me*a};Pf.prototype.getCurrentSpeed=Pf.prototype.Ke;Pf.prototype.bj=function(a){return this.Xd*a+this.me*a*a/2};
Pf.prototype.getCurrentPath=Pf.prototype.bj;function Qf(a,b,c,d){if(!da(this.Lk=a))throw new y(Qf,0,a);if(z(this.Be=+b))throw new y(Qf,1,b);if(!da(this.uh=c)&&null!=c)throw new y(Qf,2,c);if(!da(this.xg=d)&&null!=d)throw new y(Qf,3,d);this.id=Pa++;this.Ka=!1}q("H.util.animation.Animation",Qf);Qf.prototype.start=function(){var a=this,b,c=Ie,d;d=function(){var e=Ke(),f=e-a.Tc,g=f/a.Be,g=1<g?1:g;a.xg&&(g=a.xg(g));a.Lk(g,f,e-b,e);b=e;1<=g?a.stop():a.ig=c(d)};a.Tc=Ke();b=a.Tc;a.Ka=!0;a.ig=c(d)};Qf.prototype.start=Qf.prototype.start;
Qf.prototype.stop=function(a){Je(this.ig);this.Ka=!1;a||this.uh&&this.uh(this)};Qf.prototype.stop=Qf.prototype.stop;Qf.prototype.ga=function(){return this.Ka};Qf.prototype.isRunning=Qf.prototype.ga;function Rf(a,b,c,d){var e=new Q(0,0,0,0);Rf.a.constructor.call(this);this.s=d.pixelRatio;this.Xc={1:e.da(),2:e.da(),4:e.da()};this.ha=a;if(!a)throw new y(Rf,0,a);Sf(this);a.addEventListener(a.b.m,this.cc,!1,this);this.Ca=s(this.Ca,this);this.ta=s(this.ta,this);this.endInteraction=s(this.endInteraction,this);a.startInteraction=this.Ca;a.interaction=this.ta;a.endInteraction=this.endInteraction;this.Db=b;if(!b)throw new y(Rf,1,b);this.Ba=s(this.Ba,this);this.control=s(this.control,this);this.endControl=
s(this.endControl,this);b.startControl=this.Ba;b.control=this.control;b.endControl=this.endControl;b.addEventListener(b.b.m,this.Jd,!1,this);this.tc=c;if(!c)throw new y(Rf,2,c);}r(Rf,E);q("H.map.render.RenderEngine",Rf);Rf.prototype.getBBox=Rf.prototype.Ha;
function Sf(a){var b=a.ha,c=b.width,d=b.height,e=b.padding,f=e.top,g=e.left,h=e.bottom,e=e.right,b=b.margin,k=-(c+g-e)/2<<0,l=-(d+f-h)/2<<0,c=c+k,d=d+l,m=a.Xc;a=a.s;m[1].set((k-b)*a,(l-b)*a,(c+b)*a,(d+b)*a);m[2].set(k*a,l*a,c*a,d*a);m[4].set((k+g)*a,(l+f)*a,(c-e)*a,(d-h)*a)}Rf.prototype.cc=function(){Sf(this)};
Rf.prototype.c=function(){var a=this.Db,b=this.ha;a.removeEventListener(a.b.m,this.Jd,!1,this);a.startControl===this.Ba&&(a.startControl=K.prototype.Ba);a.control===this.control&&(a.control=K.prototype.control);a.endControl===this.endControl&&(a.endControl=K.prototype.endControl);b.removeEventListener(b.b.m,this.cc,!1,this);b.startInteraction===this.Ca&&(b.startInteraction=mf.prototype.Ca);b.interaction===this.ta&&(b.interaction=mf.prototype.ta);b.endInteraction===this.endInteraction&&(b.endInteraction=
mf.prototype.endInteraction)};Rf.prototype.getCamForBounds=Rf.prototype.Sb;Rf.prototype.Q=function(){return null};Rf.prototype.setPointer=Rf.prototype.setPointer;function Tf(a,b){a.style.transition="opacity 1.5s";a.addEventListener("transitionend",function(){b()},!1);a.style.opacity=0}var Uf={ZOOM:1,HEADING:2,TILT:4,INCLINE:8,COORD:16};Rf.InteractionModifiers=Uf;Rf.prototype.b={bg:"render"};var Vf={P2D:0,PANORAMA:1};Rf.EngineType=Vf;function Wf(a,b,c,d){Wf.a.constructor.apply(this,arguments);this.Ya=this.element.getContext("2d")}r(Wf,Jf);p=Wf.prototype;p.createElement=function(a){a=a.createElement("CANVAS");var b=a.style;b.position="absolute";b.top=b.left=0;return a};p.ki=function(a,b,c,d,e){a.width=db(c,1);a.height=db(d,1);b.width=eb(c/e)+"px";b.height=eb(d/e)+"px"};p.gi=function(a){this.Ya.globalAlpha=a};p.Nb=function(a,b,c,d,e){this.Ya.drawImage(a,b,c,d,e)};
p.clear=function(a){var b,c;a?this.Ya.clearRect(b=a.left,c=a.top,a.right-b,a.bottom-c):this.element.width=this.width};p.c=function(){this.element.width=this.element.height=0;Wf.a.c.call(this)};function Xf(a,b,c){Xf.a.constructor.apply(this,arguments);this.Ye=0;this.xa=b.Vb().s;this.bc=[];this.Ge=s(this.Ge,this)}r(Xf,xf);p=Xf.prototype;p.Bg=function(){return this.Fc.yb.apply(this.Fc,arguments)};p.ba=function(){var a;this.Ge();this.Zj=0;a=Xf.a.ba.apply(this,arguments);var b=this.kc,c=this.hk,d;for(d in c)Yf(this,b,c[d]);return 0===this.bc.length&&a};p.Ge=function(){for(var a=this.bc.length,b,c,d;a--;)d=this.bc[a],b=d.$c,c=d.$c.icon,c.mf(d,c,b);this.bc.length=0};
p.renderMarker=function(a,b,c,d,e,f){var g=b.cb(),h;a.detail&&(g.Dc(a.Mj)?Yf(this,d,a):h=a.detail);h||(a.detail=h=c.Je(b,this.ownerDocument),this.Ye++,da(c.mf)&&this.bc.push(h));a.Mj=g.Hb;h.style.zIndex=this.Zj++;h.$c=b;d.Nb(h,e,f,0,0)};
p.I=function(a,b,c){var d=this.xa,e,f,g,h,k,l,m;if(this.Ye){a/=d;b/=d;d=this.ownerDocument;e=d.documentElement;f=this.kc.bb();g=f.getBoundingClientRect();a+=g.left;for(b+=g.top;(l=g=d.elementFromPoint(a,b))&&l!==f&&l!==e;){for(;(m=l.parentNode)&&(!da(m.contains)||!m.contains(f));)l=m;if(m===f&&(l!==g||"svg"!==l.nodeName)&&((h||(h=[])).push(l.$c),c))break;k||(k=[]);g=l.style;k.push({tg:g.getPropertyValue("display"),Pi:g.getPropertyPriority("display"),style:g});g.setProperty("display","none","important")}if(k)for(b=
k.length;b--;)a=k[b],a.style.removeProperty("display"),ca(a.tg)&&a.style.setProperty("display",a.tg,a.Pi)}return h||Sa};function Yf(a,b,c){b.clear(b=c.detail);delete b.$c;a.Ye--;c=(a=c.marker).icon;c.pf&&c.pf(b,c,a)}p.c=function(){this.bc.length=0;var a=this.kc,b=this.Ze,c;for(c in b)Yf(this,a,b[c]);this.kc.g();Xf.a.c.call(this)};function V(a,b,c,d){var e;V.a.constructor.call(this,a,b,c,d);this.tb=new J(0,0);if(e=d.renderBaseBackground)this.tk=e.lower,this.sk=e.higher;this.Ce=!!d.enableSubpixelRendering;this.Ik=1E3;this.hh=this.l=0;this.Tf=this.eh=!1;this.la=new J(0.5,0.5);this.na=ib(this.s)/sb;this.K=new Af;this.B=d=new Gf;this.lf=s(this.lf,this);d.addEventListener(d.b.Wf,this.lf);this.i=new qe;d=a.element;this.Gc=a=d.ownerDocument.createElement("div");a.style.position="absolute";a.style.width=a.style.height="100%";a.style.zIndex=
0;d.insertBefore(a,d.firstChild);this.Da=new Wf(this.Gc,1,1,this.s);a=this.tc.qc();d=0;e=a.length;var f;this.Qb=[];this.Qb.length=e;this.gc=[];this.gc.length=e;this.Ra=[];this.Ra.length=e;for(this.$b=a;d<e;d++)f=a[d],Zf(this,d,f,1),0===d&&$f(this,f,!0);ag(this);c.addEventListener("update",this.vh,!1,this);c.addEventListener(c.b.nc,this.qf,!1,this);c.addEventListener(c.b.oc,this.rf,!1,this);c.addEventListener(c.b.cd,this.yh,!1,this);this.Ef=s(V.prototype.Ef,this);this.v=bg;this.Gg=[];this.Zh=[];this.vg=
[];this.Uh();this.l=cg(this,this.Db.getZoom()+this.na);ag(this);dg(this,b.ab().position,this.l);this.P();this.cc()}r(V,Rf);q("H.map.render.p2d.RenderEngine",V);V.prototype.type=Vf.P2D;V.prototype.type=V.prototype.type;var bg=2;V.prototype.sc=Mf;V.prototype.getState=function(){return this.v};V.prototype.getState=V.prototype.getState;function eg(a,b,c){b=c-b;return hb(b)<a.i.w/2?b:b-a.i.w*c/hb(c)}
V.prototype.Jd=function(a){var b=this,c,d,e=a.requested,f=e.animate,e=e.camera.position,g=b.i.geoToPixel(e),h=g.x,k=g.y,l=this.l,m=this.la,n=0,u,w,x;fg(this);this.tb.set(0,0);a=gg(this,a);c=a.zoom;x=a.position;if(f){if(d=c-l,u={x:m.x,y:m.y},f=this.i.dc(u).x,w=this.i.projection.Rb(e),w.x!==this.la.x||w.x!==this.la.x||c!==this.l)h=eg(this,f,h),hg(this,function(a){var e=a-n,f;c!==l&&(g=b.i.dc(w),f=b.i.dc(u),h=eg(b,f.x,g.x),k=g.y-f.y);n=a;ig(b,h*e,k*e);l+=d*e;jg(b,l);b.P();kg(b)},this.ad,function(){dg(b,
x,c);jg(b,c);b.P(x);kg(b)},this.bd)}else lg(this),dg(this,x,c),jg(this,c),this.P(x);kg(this)};V.prototype.ad=300;V.prototype.ai=function(a){var b=Ea(a);if(!b||b&&0>a)throw new y(this.ai,1,"positive number required");this.ad=a};V.prototype.setAnimationDuration=V.prototype.ai;V.prototype.Wi=function(){return this.ad};V.prototype.getAnimationDuration=V.prototype.Wi;V.prototype.bd=Of;V.prototype.bi=function(a){if(!da(a))throw new y(this.bi,1,"function required");this.bd=a};
V.prototype.setAnimationEase=V.prototype.bi;V.prototype.Xi=function(){return this.bd};V.prototype.getAnimationEase=V.prototype.Xi;V.prototype.Uh=function(){this.bd=Of;this.ad=300};V.prototype.resetAnimationDefaults=V.prototype.Uh;p=V.prototype;p.vh=function(){kg(this)};p.qf=function(a){var b=a.added;a=a.idx;Zf(this,a,b);0===a&&(ag(this),$f(this,b,!0));mg(this);kg(this)};
p.rf=function(a,b){var c=a.removed,d=a.idx,e;this.dh=Ke();(e=this.Qb.splice(d,1)[0])&&e.g&&e.g();(e=this.gc.splice(d,1)[0])&&e.g&&e.g();(e=this.Ra.splice(d,1)[0])&&e.g&&e.g();this.$b=this.tc.qc();0===d&&($f(this,c,!1),ag(this));mg(this);b||kg(this)};p.yh=function(a){this.rf(a,!0);this.qf(a)};function $f(a,b,c){c=c?b.addEventListener:b.removeEventListener;c.call(b,b.b.$f,a.zh,!1,a);c.call(b,b.b.Zf,a.zh,!1,a)}p.zh=function(){ag(this);kg(this)};
function Zf(a,b,c,d){var e,f,g,h;c&&(h={enableSubpixelRendering:a.Ce},c.requestTiles&&(e=new Nf(c,a.Da,h)),c.requestMarkers&&(f=new zf(c,a.Da,h)),c.requestDomMarkers&&(g=ng(a),g=new Xf(c,new Lf(a.Gc,g.w,g.h,a.s),h)));d=d||0;a.Qb.splice(b,d,e);a.gc.splice(b,d,f);a.Ra.splice(b,d,g);a.$b=a.tc.qc()}function ag(a){var b;if(0<a.$b.length)b=a.$b[0].max,a.kh=a.$b[0].min,a.jh=b;else{b=a.sc.zoom;var c=b.max;a.kh=b.min;a.jh=c}b=og(a,a.l);b!==a.l&&(a.l=b,a.i.F(b),a.P())}
function gg(a,b){var c=b.requested,d,e;e=(d=c.camera)&&d.position;d=og(a,og(a,c.zoom)+a.na);e=pg({position:new A(e.lat,e.lng)});a.l=c.animate?a.l:d;e.zoom=d;return e}function dg(a,b,c){var d=a.i;d.F(c);a.la=d.projection.Rb(b);d.x=d.w*a.la.x;d.y=d.h*a.la.y}function og(a,b){var c=a.sc.zoom;return Cb(b,db(c.min,a.kh),cb(c.max,a.jh))}function pg(a){a.yaw=a.pitch=a.roll=0;a.fov=70;return a}p.Sa=function(a,b){var c=this.ha.center,d=this.s;return this.i.ia((a-c.x)*d,(b-c.y)*d)};V.prototype.screenToGeo=V.prototype.Sa;
V.prototype.setPointer=Ra;V.prototype.setPointer=V.prototype.setPointer;V.prototype.hc=function(a,b){var c=this.Sa(a,b),d=this.Db.ab();d.position=c;return d};V.prototype.screenToCameraData=V.prototype.hc;V.prototype.Za=function(a){var b=this.s,c=this.ha.center,d=c.x*b,c=c.y*b;a=this.i.geoToPixel(a);var e=this.i.w;return new J(eb((a.x-eb(a.x/e)*e+d)/b),eb((a.y+c)/b))};V.prototype.geoToScreen=V.prototype.Za;
V.prototype.Ha=function(a,b){var c=this.Xc[a||4],d=this.i,e=c.left-b,f=d.ia(e,c.top-b),g=c.right+b,c=d.ia(g,c.bottom+b);g-e>=d.w&&(f.lng=-(c.lng=180));return Sb(f,c)};V.prototype.getBBox=V.prototype.Ha;V.prototype.I=function(a,b,c){var d=[],e=this.s,f=this.Qb,g=this.gc,h=this.Ra;a*=e;b*=e;d=qg(d,h,a,b,c);if(c&&d.length)return d;d=qg(d,g,a,b,c);return c&&d.length?d:qg(d,f,a,b,c)};V.prototype.getObjectsAt=V.prototype.I;
function qg(a,b,c,d,e){for(var f=b.length,g;f--&&!((g=b[f])&&g.I&&(a=a.concat(g.I(c,d,e)),a.length&&e)););return a}V.prototype.$d=sa;function ng(a){a=a.Xc[2];return{w:a.right-a.left,h:a.bottom-a.top}}
V.prototype.cc=function(){var a=this.Xc,b=this.Da.Vb(),c,d,e;this.ha.Cg||(d=a[2].da());V.a.cc.call(this);c=ng(this);this.tb.set(0,0);e=c.w;c=c.h;if(b.width!==e||b.height!==c){Kf(this.Da,e,c);for(var b=this.Ra.length,f;b--;)if(f=this.Ra[b])f=f.kc,Kf(f,e,c);this.$d=new of(e,c)}d&&(a=a[2],ig(this,d.left-a.left,d.top-a.top),this.P());kg(this)};V.prototype.xc=function(){return Mf};V.prototype.getCapabilities=V.prototype.xc;
function rg(a){Ke()-a.dh<a.Ik&&!a.Pa?a.Ui=Ie(a.Ef):(a.Pa&&(mg(a),sg(a)),a.v=bg)}function mg(a){a.Gg.length=0;a.Zh.length=0;a.vg.length=0}
V.prototype.Ef=function(){var a=this.Qb,b=this.gc,c=this.Ra,d=this.ha.center.da().scale(this.s),e=this.Ha(1,0),f=this.Ha(1,256),g=this.l,h=g-this.na,k,l,m,n=this.i;k=this.tk;var u=this.sk,w=a[0],x=this.tb;this.Da.clear();if(w){if(k)for(;k;)l=g-k,w.ba(e,d,n,l,!0,x),k-=1;if(u&&this.Tf)for(m=1;m<=u&&(l=g+m,n.F(l),k=this.Ha(2,0),n.F(g),!w.ba(k,d,n,l,!0,x));m++);}a=tg(this,a,this.Gg,e,d,g,x);b=tg(this,b,this.Zh,f,d,h,x);c=tg(this,c,this.vg,f,d,h,x);this.Pa=a&&b&&c;this.Zd&&(this.Db.ae(this.Zd),this.Zd=
null);this.$d&&(this.ha.ae(this.$d),this.$d=sa);g<this.hh?this.Tf=!0:this.eh&&(this.Tf=!1);this.hh=g;this.eh=a;rg(this)};function tg(a,b,c,d,e,f,g){for(var h=b.length,k=a.$b,l,m=!!h,n=0,n=0;n<h;n++)b[n]&&((l=b[n].ba(d,e,a.i,f,!1,g))&&!c[n]&&(sg(a,k[n]),c[n]=!0),c[n]||(m=!1));return m}function sg(a,b){a.dispatchEvent({type:a.b.bg,target:b||a})}
V.prototype.c=function(){var a=this.tc,b=this.tc.qc()[0],c=this.ha,d=this.Qb,e=this.gc,f=this.Ra;Je(this.Ui);lg(this,!0);a.removeEventListener("update",this.vh,!1,this);a.removeEventListener(a.b.nc,this.qf,!1,this);a.removeEventListener(a.b.oc,this.rf,!1,this);a.removeEventListener(a.b.cd,this.yh,!1,this);b&&$f(this,b,!1);this.Da.g();for(a=d.length;a--;)ae(d[a]);for(a=e.length;a--;)ae(e[a]);for(a=f.length;a--;)ae(f[a]);c.element&&c.element.removeChild(this.Gc);this.Gc=null;this.v=3;V.a.c.call(this)};
function kg(a){a.dh=Ke();a.v===bg&&(a.Pa=!1,a.v=1,rg(a))}function ug(a){return pg({position:a.i.projection.Nd(a.la)})}V.prototype.P=function(a){var b=ug(this);a&&(b.position=a);this.Zd=b;this.Zd.zoom=this.l-this.na};function vg(a,b,c){ig(a,b*a.s,c*a.s);a.tb.set(0,0);a.P();kg(a)}function ig(a,b,c){var d=a.i;a=a.la;d.x=Bb(d.x+b,d.w);d.y=db(0,cb(d.w,d.y+c));a.x=d.x/d.w;a.y=d.y/d.h}V.prototype.Zc=function(a,b,c){a=og(this,og(this,a)+this.na);jg(this,a,b,c)};V.prototype.zoomAt=V.prototype.Zc;
function jg(a,b,c,d){var e=a.s,f=a.ha.center;c===+c&&d===+d?(c=(c-f.x)*e,d=(d-f.y)*e,a.tb.set(c,d),ig(a,c,d),a.i.F(b),ig(a,-c,-d)):(a.tb.set(0,0),a.i.F(b));a.l=b;a.P();kg(a)}
V.prototype.Sb=function(a,b){var c=this.xc().zoom.max,d=a.W(),e,f,g,h,k;a.$g()||(e=new qe(this.i.projection),e.F(c),f=e.geoToPixel(a.gb()).round(),g=e.geoToPixel(a.$a()).round(),c=e.w,a.Wb()&&(f.x-=c),b?(h=e.geoToPixel(d),k=2*db(h.x-f.x,g.x-h.x),h=2*db(h.y-f.y,g.y-h.y)):(k=g.x-f.x,h=g.y-f.y,d=e.pixelToGeo(f.add(g).scale(0.5))),f=this.Xc[4],e=f.right-f.left,f=f.bottom-f.top,c=-8+cb(ib(e/k*c)/sb,ib(f/h*c)/sb)-this.na);return{zoom:og(this,c),position:d}};V.prototype.getCamForBounds=V.prototype.Sb;
function fg(a){lg(a,!0);a.B.ga()&&a.endControl(!0);a.K.ga()&&a.endInteraction(!0);lg(a,!0)}V.prototype.Ca=function(a,b){fg(this);this.ka=b;this.K.start(a,!!b)};V.prototype.startInteraction=V.prototype.Ca;function cg(a,b){return og(a,og(a,b-a.na)+a.na)}
V.prototype.ta=function(a,b,c,d,e){var f=!1;this.K.ga()&&(this.K.oi(a,b,c,d,e),this.K.ud(Uf.COORD)&&(e=this.K,e=Bf(e.fa,e.sb),0<e.Ic()&&(vg(this,-e.x,-e.y),f=!0)),this.K.ud(Uf.ZOOM)&&a===+a&&b===+b&&c===+c&&d===+d&&(b=Cf(this.K.fa),a=this.K.Ig(this.l),a!==this.l&&(a=cg(this,a),jg(this,a,b.x,b.y),f=!0)),f&&kg(this))};V.prototype.interaction=V.prototype.ta;
V.prototype.endInteraction=function(a){var b=this,c,d,e,f;this.K.ga()&&!a&&(this.ka&&(a=this.K.zc(),e=this.K.Le(),f=this.ka.duration,c=(this.ka.gk||1)*a,d=new Pf(-(c/f),c),!z(e.x)&&!z(e.y)&&0<c&&b.K.ud(Uf.COORD)&&hg(this,function(a){c=d.Ke(a*f);z(c)||vg(b,eb(-e.x*c),eb(-e.y*c))},f,void 0,this.ka.Si)),this.ka=null,this.K.clear())};V.prototype.endInteraction=V.prototype.endInteraction;V.prototype.Ba=function(a,b,c){fg(this);this.B.start(b,c);this.ka=a};V.prototype.startControl=V.prototype.Ba;
V.prototype.control=function(a,b,c,d,e,f,g){if(z(c=+g||+c))throw new y(this.control,2,c);if(z(a))throw new y(this.control,0,a);if(z(b))throw new y(this.control,2,b);this.B.ga()&&this.B.set(a,b,c)};V.prototype.control=V.prototype.control;
V.prototype.endControl=function(a,b){var c=this,d,e,f,g,h,k,l,m;this.B.ga()&&(lg(this,!0),e=Ke(),d=e-this.ng,1<=d&&(f=If(this.B),wg(this,f,d)),!this.ka||a||b?"function"===typeof b&&(d={camera:ug(this),zoom:this.l-this.na},b(d),d.zoom+=this.na,xg(this,d)):(d=this.B.zc(),k=this.B.Le(),l=this.ka.duration,g=(this.ka.gk||1)*d,h=new Pf(-(g/l),g),!z(k.x)&&!z(k.y)&&0<g&&hg(this,function(a,b,d,f){e&&(d=f-e,e=0);g=h.Ke(a*l)*d;z(g)||((m=k.z*g)&&jg(c,cg(c,c.l+m),c.B.atX,c.B.atY),vg(c,eb(k.x*g),eb(k.y*g)))},l,
void 0,this.ka.Si)),this.B.reset())};V.prototype.endControl=V.prototype.endControl;
function xg(a,b){var c=a.la,d=a.i.projection.Rb(b.camera.position),e=a.i.dc(d),f=e.y,e=e.x,g=b.zoom,h=a.i.dc(c),c=h.y,k=h.x,h=a.l,l=a.B.zc(),m=a.B.atX,n=a.B.atY,u=0,w,x,e=eg(a,k,e),e=e-k,f=f-c,h=g-h,c=jb(e*e+f*f+h*h);0!==l&&0!==c&&(x={x:e/c,y:f/c,z:h/c},w=l*l/(2*c),hg(a,function(b,c){var e,f,h;if(1!==b){e=l*c-w*c*c/2;f=e-u;if(h=x.z*f)h=cg(a,a.l+h),jg(a,cg(a,h),m,n);vg(a,eb(x.x*f),eb(x.y*f));u=e}else a.la=d,jg(a,cg(a,g),m,n),a.P(),kg(a)},2*c/l))}
V.prototype.lf=function(a){var b=this,c=a.offset;this.tb.set(0,0);c.x||c.y||c.z?(this.ng=Ke(),hg(this,function(a,e,f,g){b.ng=g;wg(b,c,f)},Number.POSITIVE_INFINITY)):lg(this,!0)};function wg(a,b,c){c=c||0;b.z&&jg(a,cg(a,a.l+b.z*c),a.B.atX,a.B.atY);vg(a,b.x*c,b.y*c)}function hg(a,b,c,d,e){a.Ua&&a.Ua.ga()&&a.Ua.stop(!0);a.Ua=new Qf(b,c,d,e);a.Ua.start()}function lg(a,b){a.Ua&&a.Ua.ga()&&a.Ua.stop(b)}V.prototype.enter=Ra;V.prototype.enter=V.prototype.enter;
V.prototype.exit=function(a){var b=this.Db.ab();this.Jd({requested:{camera:b,zoom:b.zoom,animate:!0}});Tf(this.Gc,a)};V.prototype.exit=V.prototype.exit;V.prototype.Q=function(a,b,c,d){var e=this.Da.bb(),f=e.ownerDocument.createElement("canvas"),g=f.getContext("2d"),h=this.s;f.width=(c-a)*h;f.height=(d-b)*h;g.drawImage(e,-a*h,-b*h);return f};function W(){this.d=[];W.a.constructor.call(this)}r(W,E);q("H.util.OList",W);function yg(a,b,c){a=a.d.length;var d;if(c)d=a;else if(z(d=0>(d=+b)?db(0,a+d):cb(a,d)))throw new Le(W,b,[0,a-1]);return d}W.prototype.add=function(a,b){var c=yg(this,b,z(b));this.d.splice(c,0,a);this.dispatchEvent(new zg(this,this.b.nc,c,a,null,null))};W.prototype.add=W.prototype.add;W.prototype.Aa=function(a){var b=this.d.splice(a,1)[0];this.dispatchEvent(new zg(this,this.b.oc,a,null,b,null));return b};
W.prototype.ec=function(a){this.get(a);return this.Aa(a)};W.prototype.removeAt=W.prototype.ec;W.prototype.remove=function(a){a=this.indexOf(a);return 0<=a?(this.Aa(a),!0):!1};W.prototype.remove=W.prototype.remove;W.prototype.set=function(a,b){var c=this.get(a);a=yg(this,a,!1);c=this.d[a];this.d[a]=b;this.dispatchEvent(new zg(this,this.b.cd,a,b,c,null));return c};W.prototype.set=W.prototype.set;W.prototype.indexOf=function(a){return this.d.indexOf(a)};W.prototype.indexOf=W.prototype.indexOf;
W.prototype.get=function(a){a=yg(this,a,!1);if((a=yg(this,a,!1))>=this.d.length)throw new Le(this.get,a,[0,this.d.length-1]);return this.d[a]};W.prototype.get=W.prototype.get;W.prototype.nj=function(){return this.d.length};W.prototype.getLength=W.prototype.nj;W.prototype.qc=function(){return[].concat(this.d)};W.prototype.asArray=W.prototype.qc;W.prototype.flush=function(){for(var a=this.d.length;a--;)this.Aa(a)};W.prototype.flush=W.prototype.flush;W.prototype.c=function(){this.flush();W.a.c.call(this)};
W.prototype.b={nc:"add",oc:"remove",cd:"set",Tk:"move"};function zg(a,b,c,d,e,f){zg.a.constructor.call(this,b,a);this.idx=c;this.added=d;this.removed=e;this.moved=f}r(zg,sc);function Ag(a){Ag.a.constructor.call(this);this.dispatchEvent=s(this.dispatchEvent,this);if(a)for(var b=0,c=a.length;b<c;b++)this.add(a[b])}r(Ag,W);q("H.map.DataModel",Ag);Ag.prototype.add=function(a,b){v(a,N,this.add,0);Ag.a.add.call(this,a,b);a.addEventListener(a.b.m,this.dispatchEvent,!1)};Ag.prototype.add=Ag.prototype.add;
Ag.prototype.set=function(a,b){var c;v(b,N,this.set,0);c=Ag.a.set.call(this,a,b);b.addEventListener(b.b.m,this.dispatchEvent,!1);c.removeEventListener(c.b.m,this.dispatchEvent,!1);return c};Ag.prototype.set=Ag.prototype.set;Ag.prototype.ec=function(a){var b;(b=Ag.a.ec.call(this,a))&&b.removeEventListener(b.b.m,this.dispatchEvent,!1);return b};Ag.prototype.removeAt=Ag.prototype.ec;
Ag.prototype.remove=function(a){var b;(b=Ag.a.remove.call(this,a))&&a.removeEventListener(a.b.m,this.dispatchEvent,!1);return b};Ag.prototype.remove=Ag.prototype.remove;Ag.prototype.flush=function(){for(var a=this.d.length;a--;)this.ec(a);Ag.a.flush.call(this)};Ag.prototype.flush=Ag.prototype.flush;function X(a,b,c){X.a.constructor.call(this);this.De=s(X.prototype.De,this);this.L=Bg(c,X);this.qa=c=new K;this.Cd=!1;c.addEventListener(c.b.pc,this.Ah,!1,this);if(!v(a,Element))throw new y(X,0,a);c=this.t=a.ownerDocument.createElement("div");var d=c.style;d.position="relative";d.height=c.style.width="100%";d.overflow="hidden";d.webkitTapHighlightColor="transparent";"transparent"!==d.webkitTapHighlightColor&&(d.webkitTapHighlightColor="rgba(0,0,0,0)");a.appendChild(c);this.Eb=new mf(this.t,this.L);
this.Eb.addEventListener(this.Eb.b.pc,this.Ah,!1,this);a=this.f=new Ag(this.L.layers);a.addEventListener(a.b.cd,this.of,!1,this);a.addEventListener(a.b.nc,this.of,!1,this);a.addEventListener(a.b.oc,this.of,!1,this);this.Hc=new G;this.jf=new jf(this.Hc,this.L);this.eg(this.jf);this.Ib=null;this.f.add(b,0);this.u=this.we(this.L.engineType||Cg.P2D,this.L);b=this.L.center||new A(0,0);a=+this.L.zoom||0;c=this.L.bounds;this.Gd=s(this.Gd,this);this.ye=s(this.ye,this);v(c,B)?this.Of(c):(this.Pc(b),this.setZoom(a));
b=this.L.imprint;if(b!==t&&"object"!==typeof b)throw new y(X,1,"imprint");this.Ja=null===b?b:new be(this,b);b=this.L.autoColor;this.oe=b===t||!!b;Dg(this)}r(X,E);q("H.Map",X);function Bg(a,b){var c;if(a)if(c=a.pixelRatio,c===t)a.pixelRatio=1;else{if(!(0<c))throw new y(b,0,"pixelRatio: "+c);}else a={pixelRatio:1};a.renderBaseBackground||(a.renderBaseBackground={lower:3,higher:2});return a}X.prototype.Bi=333;
X.prototype.c=function(){this.oe=!1;this.Ja&&this.Ja.g();this.jf.g();this.Hc.g();this.f.g();this.qa.g();this.Eb.g();this.u.g();Va(this.t);this.t=null;E.prototype.c.call(this)};X.prototype.bb=function(){return this.t};X.prototype.getElement=X.prototype.bb;function Dg(a){a.Ja&&a.oe&&a.Ja.Wd({invert:a.Ib.Li})}
X.prototype.of=function(a){var b=a.added,c=a.removed;b&&da(b.ja)&&b.ja().U(this);c&&da(c.ja)&&c.ja().U(null);0===a.idx&&(this.dispatchEvent(new tc(this.b.zi,this.Ib=a.type!==this.f.b.oc?b:0<this.f.d.length?this.f.get(0):sa,a.type!==this.f.b.nc?c:1<this.f.d.length?this.f.get(1):sa)),Dg(this))};X.prototype.Ah=function(a){a.modifiers&&(this.Cd||(Eg(this,"start"),this.Cd=!0),Eg(this,"",a));this.Cd&&(this.oh&&pa.clearTimeout(this.oh),this.oh=pa.setTimeout(this.ye,this.Bi))};
function Eg(a,b,c){a.dispatchEvent(c?new je(a.b.Xf,c.newValue,c.oldValue,c.modifiers):a.b.Xf+b)}X.prototype.ye=function(){Eg(this,"end");this.Cd=!1};X.prototype.Pc=function(a,b){this.qa.Oc({animate:!!b,position:a});return this};X.prototype.setCenter=X.prototype.Pc;X.prototype.W=function(){return(this.qa.ab()||{}).position};X.prototype.getCenter=X.prototype.W;X.prototype.setZoom=function(a,b){this.qa.setZoom(a,!!b);return this};X.prototype.setZoom=X.prototype.setZoom;X.prototype.getZoom=function(){return this.qa.getZoom()};
X.prototype.getZoom=X.prototype.getZoom;X.prototype.Zc=function(a,b,c){this.u.Zc(a,b,c)};X.prototype.zoomAt=X.prototype.Zc;X.prototype.Of=function(a,b){if(!v(a,B))throw new y(this.Of,0,a);var c=this.u.Sb(a,!1);c.zoom=fb(c.zoom);c.animate=b;this.qa.Oc(c);return this};X.prototype.setViewBounds=X.prototype.Of;X.prototype.Pg=function(){return this.u.Ha(4,0)};X.prototype.getViewBounds=X.prototype.Pg;X.prototype.Kg=function(a){if(!v(a,B))throw new y(this.Kg,0,a);return this.u.Sb(a,!0)};
X.prototype.getCameraDataForBounds=X.prototype.Kg;X.prototype.Ij=function(){return this.Eb};X.prototype.getViewPort=X.prototype.Ij;X.prototype.Hj=function(){return this.qa};X.prototype.getViewModel=X.prototype.Hj;X.prototype.lj=function(){return this.f};X.prototype.getLayers=X.prototype.lj;X.prototype.ij=function(){return this.Ja};X.prototype.getImprint=X.prototype.ij;
X.prototype.Q=function(a,b,c,d,e,f){function g(a,b){ea?a.cancel():(n.save(),b.capture(m,w,function(){n.restore();a.R()},function(b){a.R(null,b);h(null)}))}function h(b){ea||(ea=!0,a(b))}var k=this.Me(),l=k.xc(),m,n,u=this.Ja,w=this.L.pixelRatio,x;b=b||[];var L=this.Eb,ea=!1,Ba,Za;if(!da(a))throw new y(this.Q,0,a);c=c||0;d=d||0;e=e||L.width;f=f||L.height;Ba=db(0,cb(c,e));Za=db(0,cb(d,f));c=cb(L.width,db(c,e));d=cb(L.height,db(d,f));l.capture?(m=k.Q(Ba,Za,c,d),n=m.getContext("2d"),m.style.width=m.width/
w+"px",m.style.height=m.height/w+"px",x=new Re(10,g),b.filter(function(a){return da(a.capture)}).forEach(function(a){x.push(a,Ra)}),x.push(u,s(h,this,m)),x.Qd()):a(null)};X.prototype.capture=X.prototype.Q;X.prototype.Me=function(){return this.ob||this.u};X.prototype.getEngine=X.prototype.Me;X.prototype.ei=function(a){this.u.type===a||this.Ug||(this.Ug=!0,this.ob=this.we(a),this.ob.addEventListener("render",this.Gd));return this};X.prototype.setEngineType=X.prototype.ei;
X.prototype.Gd=function(a){a.target===this.ob&&(this.ob.removeEventListener("render",this.Gd),this.ob.enter(),this.u.exit(this.De))};X.prototype.De=function(){var a=this.u.type;this.u.g();this.u=this.ob;this.ob=t;this.Ug=!1;this.dispatchEvent(new tc(this.b.Ai,this.u.type,a))};
X.prototype.we=function(a,b){var c=b?Bg(b,this.we):this.L;if(a===Cg.PANORAMA)return this.Ja&&this.oe&&this.Ja.Wd({invert:!0}),new pa.H.map.render.panorama.RenderEngine(this.Eb,this.qa,this.f,c);if(a===Cg.P2D)return Dg(this),new V(this.Eb,this.qa,this.f,c);throw new y(this.ei,0,a);};X.prototype.eg=function(a,b){-1===this.f.indexOf(a)&&this.f.add(a,z(b)?this.f.d.length-1:b);return this};X.prototype.addLayer=X.prototype.eg;
X.prototype.qk=function(a){var b=this.f.indexOf(a);a!==this.Ib&&a!==this.jf&&-1!==b&&this.f.ec(b);return this};X.prototype.removeLayer=X.prototype.qk;X.prototype.Ck=function(a){this.Ib!==a&&(this.f.set(0,a),this.Ib=a);return this};X.prototype.setBaseLayer=X.prototype.Ck;X.prototype.Yi=function(){return this.Ib};X.prototype.getBaseLayer=X.prototype.Yi;X.prototype.Za=function(a){if(!Mb(a))throw new y(this.Za,0,a);return this.u.Za(a)};X.prototype.geoToScreen=X.prototype.Za;
X.prototype.Sa=function(a,b){var c;if(c=+z(a)||2*z(b))throw new y(this.Sa,c-1,arguments[c-1]);return this.u.Sa(a,b)};X.prototype.screenToGeo=X.prototype.Sa;X.prototype.hc=function(a,b){return this.u.hc(a,b)};X.prototype.screenToCameraData=X.prototype.hc;X.prototype.A=function(a){if(!v(a,F))throw new y(this.A,0,a);this.Hc.Ub().A(a);return a};X.prototype.addObject=X.prototype.A;X.prototype.N=function(a){if(!v(a,F))throw new y(this.N,0,a);this.Hc.Ub().N(a);return a};X.prototype.removeObject=X.prototype.N;
X.prototype.eb=function(){return this.Hc.Ub().eb(!0)};X.prototype.getObjects=X.prototype.eb;X.prototype.Fb=function(a){var b,c;if(!za(a))throw new y(this.Fb,0,a);b=a.length;for(c=0;c<b;c++)this.A(a[c]);return this};X.prototype.addObjects=X.prototype.Fb;X.prototype.fc=function(a){if(!v(a,O)&&!za(a))throw new y(this.fc,0,a);a.forEach(this.N,this);return this};X.prototype.removeObjects=X.prototype.fc;
X.prototype.Ne=function(a,b){var c;if(c=+z(a)||2*z(b))throw new y(this.Ne,c-1,arguments[c-1]);return this.u.I(a,b,!0)[0]||sa};X.prototype.getObjectAt=X.prototype.Ne;X.prototype.I=function(a,b){var c;if(c=+z(a)||2*z(b))throw new y(this.Ne,c-1,arguments[c-1]);return this.u.I(a,b,!1)};X.prototype.getObjectsAt=X.prototype.I;var ge=0,Cg={P2D:ge,PANORAMA:1};X.EngineType=Cg;X.prototype.b={Rk:"mapviewchangestart",Xf:"mapviewchange",Yf:"mapviewchangeend",zi:"baselayerchange",Ai:"enginechange"};function Fg(a,b,c){function d(){var a=s(l.pb,l),b=+k.timeout||0;Gg?(Hg(l,"timeout",a),e.timeout=b):b&&(l.wi=setTimeout(function(){e.abort();l.pb({type:"timeout"})},b));Hg(l,"error",a);Hg(l,"load",a);e.send(k.data)}var e,f,g,h=c&&c.headers||{},k={},l=this;if(!da(b))throw new y(Fg,1,"function required");a+="";oa(h,Ig.headers,h);oa(k,Ig,c||{});k.headers=h;this.Va=b;this.O=e=new XMLHttpRequest;b=k.method;try{e.open(b,a,!0);for(f in k.headers)(g=k.headers[f])&&e.setRequestHeader(f,g);e.withCredentials=
!!k.withCredentials;d()}catch(m){if(Jg)this.pb({type:"cors"});else{this.O=e=new XDomainRequest;try{e.open(b,a),e.onprogress=function(){},d()}catch(n){this.pb({type:"cors"})}}}}q("H.net.Xhr",Fg);var Ig={method:"GET",headers:{},data:null},Jg="withCredentials"in new XMLHttpRequest,Gg="timeout"in new XMLHttpRequest;function Hg(a,b,c){Jg?a.O.addEventListener(b,c):a.O["on"+b]=c}function Kg(a,b,c){Jg?a.O.removeEventListener(b,c):a.O["on"+b]=null}
Fg.prototype.abort=function(){this.O&&(this.O.abort(),this.O&&this.pb({type:"abort"}))};Fg.prototype.abort=Fg.prototype.abort;Fg.prototype.pb=function(a){a=a.type;var b=this.O,c,d;this.wi&&clearTimeout(this.wi);"load"===a?b instanceof XMLHttpRequest&&200!==b.status?d="network":c=b.responseText:d=4===b.readyState&&0===b.status&&"error"==a?"cors":"error"!=a?a:"network";a=this.pb;Kg(this,"timeout",a);Kg(this,"error",a);Kg(this,"load",a);a=this.Va;delete this.pb;delete this.Va;delete this.O;a(c,d)};function Y(a,b,c,d,e,f){if(a&&b)this.ji(a),this.If(b),this.Lf(c),this.hi(e),this.$h(f),this.ii(d);else throw Error('Parameters "scheme" and "host" must be specified');}q("H.net.Url",Y);
function Lg(a,b){var c=a,d=document,e,f,g,h,k=d.createElement("a");b&&(f=(e=d.getElementsByTagName("base")[0])&&e.href,g=d.head,h=e||g.appendChild(d.createElement("base")),h.href=b);k.href=c;c=k.href;b&&(e?e.href=f:g.removeChild(h));c=/(?:(\w+):\/\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\/[^?#]*)?(\?[^#]+)?(#.*)?/.exec(c);e=c[1];k=c[4];f=c[5];d=c[6];g=c[7];h=c[8];!c[2]&&k&&/@/.test(k)&&(k=k.split("@")[1]);var c=k,d=d&&0<d.length?d.substr(1):"",k={},l,m;if(g)for(l=/([?&]?([^=&+]+))(=([^&]+))?/g;m=
l.exec(g);)k[decodeURIComponent(m[2])]=m[4]?decodeURIComponent(m[4]):void 0;return new Y(e,c,d,k,isNaN(+f)?void 0:+f,h&&0<h.length?h.substr(1):"")}Y.parse=Lg;Y.prototype.da=function(){return new Y(this.Gf,this.vd,this.qb,this.mg(),this.Od,this.ca)};Y.prototype.clone=Y.prototype.da;Y.prototype.ji=function(a){if(!a||"string"!==typeof a)throw Error('The "scheme" parameter must be a non-empty string.');this.Gf=a;return this};Y.prototype.setScheme=Y.prototype.ji;Y.prototype.Dj=function(){return this.Gf};
Y.prototype.getScheme=Y.prototype.Dj;Y.prototype.If=function(a){if(!a||"string"!==typeof a||"-"===a.charAt(0)||"."===a.charAt(0)||"."===a.charAt(a.length-1))throw Error('The "host" parameter is not a valid host name.');this.vd=a;return this};Y.prototype.setHost=Y.prototype.If;Y.prototype.ej=function(){return this.vd};Y.prototype.getHost=Y.prototype.ej;Y.prototype.Lf=function(a){this.qb=a||void 0;return this};Y.prototype.setPath=Y.prototype.Lf;Y.prototype.uj=function(){return this.qb};
Y.prototype.getPath=Y.prototype.uj;Y.prototype.ii=function(a){if(a)if("object"==typeof a)this.ma=a;else throw Error('Parameter "params" must be an object.');else this.ma={};return this};Y.prototype.setQuery=Y.prototype.ii;Y.prototype.Lj=function(){return!Mg(this)};Y.prototype.hasQuery=Y.prototype.Lj;Y.prototype.zj=function(){return this.ma};Y.prototype.getQuery=Y.prototype.zj;
Y.prototype.hi=function(a){if(a&&isNaN(parseInt(a,10)))throw Error('Parameter "port" must be a number or undefined');this.Od=+a||void 0;return this};Y.prototype.setPort=Y.prototype.hi;Y.prototype.wj=function(){return this.Od};Y.prototype.getPort=Y.prototype.wj;Y.prototype.$h=function(a){this.ca=a||void 0;return this};Y.prototype.setAnchor=Y.prototype.$h;Y.prototype.Ie=function(){return this.ca};Y.prototype.getAnchor=Y.prototype.Ie;
Y.prototype.Tj=function(a){if("object"!==typeof a)throw Error('Parameter "other" must be an object.');var b=this.ma,c;for(c in a)a.hasOwnProperty(c)&&"function"!==typeof a[c]&&(b[c]=a[c]);return this};Y.prototype.mergeQuery=Y.prototype.Tj;Y.prototype.Gi=function(a){if(!a||"string"!==typeof a)throw Error('Parameter "subDomain" must be a non-empty string');"."===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.If(a+"."+this.vd)};Y.prototype.addSubDomain=Y.prototype.Gi;
Y.prototype.Hi=function(a){if(!a||"string"!==typeof a)throw Error('Parameter "subPath" must be a non-empty string');return this.Lf((this.qb?this.qb+"/":"")+a)};Y.prototype.addSubPath=Y.prototype.Hi;Y.prototype.toString=function(){return[this.Gf+"://",this.vd,this.Od?":"+this.Od:"",this.qb||!Mg(this)||this.ca?"/":"",this.qb?encodeURI(this.qb):"",Ng(this),this.ca?"#"+encodeURIComponent(this.ca):""].join("")};Y.prototype.toString=Y.prototype.toString;
Y.prototype.mg=function(){var a={},b;for(b in this.ma)a[b]=this.ma[b];return a};Y.prototype.cloneQuery_=Y.prototype.mg;function Ng(a){var b=[],c,d=a.ma,e;for(c in d)d.hasOwnProperty(c)&&"function"!==typeof d[c]&&(e=a.ma[c],b.push(encodeURIComponent(c)+(void 0===e?"":"="+encodeURIComponent(e))));return 0<b.length?"?"+b.join("&"):""}function Mg(a){var b,c=0;for(b in a.ma)if(a.ma.hasOwnProperty(b)&&"function"!==typeof a.ma[b]&&(c++,0<c))break;return!c};function Og(a,b,c){c=c||{};var d;if("function"!==typeof b)throw new TypeError("Invalid callback");if("string"===typeof a)a=Lg(a,c.baseURL);else if(!(a instanceof Y))throw new TypeError("Invalid url");c.headers=d=c.headers||{};d.accept||(d.accept="application/json");this.Va=b;this.O=new Fg(a.toString(),s(this.Mk,this),c)}q("H.net.JsonX",Og);Og.prototype.Mk=function(a,b){var c=this.Va,d;if(!b)try{d=JSON.parse(a)}catch(e){b="parse"}delete this.Va;delete this.O;c(d,b)};
Og.prototype.abort=function(){this.O&&this.O.abort()};Og.prototype.abort=Og.prototype.abort;var Pg={};q("H.net.RequestManager",Pg);Pg.Sk=10;Pg.Ci=6;Pg.Di="Mime type not supported";Pg.add=function(a){v(a,Qg,this.add,0);this.rh[a.bf]?this.Ff.push(a,function(b,c,d){a.R(c,d)}):a.R(void 0,this.Di)};Pg.add=Pg.add;Pg.lk=function(a,b){this.rh[b.bf](a,b)};Pg.rh={"application/json":function(a,b){b.open();new Og(b.Qf,s(a.R,a))},"text/plain":function(a,b){new Fg(b.Qf,s(a.R,a))}};Pg.Ff=new cf(Pg.Ci,s(Pg.lk,Pg));function Qg(a,b,c,d){Aa(a,"String",Qg,0);Aa(b,"String",Qg,1);Aa(c,"Function",Qg,2);this.bf=a;this.Qf=b;this.Va=c;this.v=this.constructor.StateType.UNSENT;this.L=d?oa({},this.rg,d):this.rg;this.Eh=this.L.ik;Pg.add(this)}q("H.net.Request",Qg);Qg.StateType={UNSENT:0,OPENED:1,DONE:2};Qg.prototype.yj=function(){return this.Eh};Qg.prototype.getPriority=Qg.prototype.yj;Qg.prototype.Fk=function(a){this.Eh=a};Qg.prototype.setPriority=Qg.prototype.Fk;Qg.prototype.getState=function(){return this.v};
Qg.prototype.getState=Qg.prototype.getState;Qg.prototype.Gj=function(){return this.Qf};Qg.prototype.getUrl=Qg.prototype.Gj;Qg.prototype.qj=function(){return this.bf};Qg.prototype.getMimeType=Qg.prototype.qj;Qg.prototype.open=function(){this.v=this.constructor.StateType.OPENED};Qg.prototype.open=Qg.prototype.open;Qg.prototype.R=function(a,b){this.v=this.constructor.StateType.DONE;this.Va(a,b)};Qg.prototype.done=Qg.prototype.R;Qg.prototype.rg={ik:0};function Z(a,b,c){Z.a.constructor.call(this,null,c);this.Pc(a);this.Nf(b);c&&"precision"in c&&this.Mf(c.precision)}r(Z,I);q("H.map.Circle",Z);Z.prototype.Pc=function(a){(a=Nb(a)).G(this.Xa)||(this.Xa=a,Z.a.p.call(this,null))};Z.prototype.setCenter=Z.prototype.Pc;Z.prototype.W=function(){return this.Xa};Z.prototype.getCenter=Z.prototype.W;Z.prototype.Nf=function(a){if(z(a=Cb(a,0,6371000.79*tb/2)))throw new y(this.Nf,0,a);this.Df!==a&&(this.Df=a,Z.a.p.call(this,null))};Z.prototype.setRadius=Z.prototype.Nf;
Z.prototype.Aj=function(){return this.Df};Z.prototype.getRadius=Z.prototype.Aj;Z.prototype.Pd=60;Z.prototype.Mf=function(a){if(!Ea(a))throw new y(this.Mf,0,a);this.Pd!==(a=Cb(eb(a),4,360))&&(this.Pd=a,Z.a.p.call(this,null))};Z.prototype.setPrecision=Z.prototype.Mf;Z.prototype.xj=function(){return this.Pd};Z.prototype.getPrecision=Z.prototype.xj;Z.prototype.Rc=function(){return this};Z.prototype.setNorthPoleCovering=Z.prototype.Rc;Z.prototype.p=function(){return this};Z.prototype.setStrip=Z.prototype.p;
Z.prototype.Ia=function(){return this.pa||Z.a.p.call(this,this.Oe()).pa};Z.prototype.getStrip=Z.prototype.Ia;Z.prototype.Oe=function(){var a=this.Xa,b=a.lat,c=this.Df,d=0,e=new C;this.Xb=0<b;if(90===hb(b))for(b=a.Rf(0,c,!0).lat;360>d;d+=120)e.Bf(b,d-180,t);else for(b=this.Pd,b=360/b;360>d;d+=b)e.Cf(a.Rf(d,c,!0));return e};function Rg(a,b){var c,d=a;if(!v(d,Element)){Sg.innerHTML=d;d=Sg.firstElementChild;if(!d)throw new y(Rg,0,"No element data");Sg.removeChild(d);c=!0;Sg.innerHTML=""}this.se=0!==Ta(d).length;this.yg=c?d:Ua(d,pa.document,this.se);b&&(c="onAttach",c in b&&Aa(d=b[c],"Function",Rg,1,c)&&(this.mf=d),c="onDetach",c in b&&Aa(d=b[c],"Function",Rg,1,c)&&(this.pf=d))}q("H.map.DomIcon",Rg);var Sg=document.createElement("DIV");Rg.prototype.mf=null;Rg.prototype.pf=null;
Rg.prototype.Je=function(a,b){return Ua(this.yg,b,this.se)};Rg.prototype.se=!1;function qf(a,b){var c,d,e,f,g,h,k;f=a;e=[Tg.RECT,Tg.CIRCLE,Tg.POLYGON];b=[].concat(b);c=d=b.length;if(-1===e.indexOf(f))throw new y(qf,0,a);if(!b)throw new y(qf,1,b);for(;d--;)if(z(b[d]))throw new y(qf,1,b);f===Tg.RECT&&3<c&&(b=[b[0],b[1],b[2],b[1],b[2],b[3],b[0],b[3]],f=Tg.POLYGON);if(f===Tg.CIRCLE&&2<c&&(e=b[2],0<e)){f=b[0];g=b[1];d=cb(2*gb(e),40);h=360/d;for(b=[];d--;)k=h*d*yb,b.push(f+mb(k)*e,g+ob(k)*e);f=Tg.POLYGON}if(f!==Tg.POLYGON||!c||b.length%2)throw new y(qf,1,b);this.fk=b}
q("H.map.HitArea",qf);qf.prototype.Sg=function(a,b,c){return Fb(a,b,this.fk,c,!0)};qf.prototype.hitTest=qf.prototype.Sg;var Tg={RECT:0,CIRCLE:1,POLYGON:2};qf.ShapeType=Tg;function Ug(a,b){var c;wa(this,Ug);Ug.a.constructor.call(this,b);this.setPosition(a);b&&"icon"in b&&(c=b.icon);this.Qc(c||Vg(this))}r(Ug,F);q("H.map.AbstractMarker",Ug);Ug.prototype.jd=function(a){var b,c,d=this.mc-a.mc;d||(d=sd(b=rd(this),c=rd(a),!0)||a.getPosition().lat-this.getPosition().lat||sd(b,c,!1));return d};Ug.prototype.getPosition=function(){return this.Ch};Ug.prototype.getPosition=Ug.prototype.getPosition;
Ug.prototype.setPosition=function(a){var b=this.Ch,c=!b;if(c||!b.G(a))Mb(a,c?Ug:this.setPosition,0),this.Ch=Nb(a),c||this.C(oc.SPATIAL);return this};Ug.prototype.setPosition=Ug.prototype.setPosition;Ug.prototype.gj=function(){return this.icon};Ug.prototype.getIcon=Ug.prototype.gj;Ug.prototype.Qc=function(a){var b=this.icon,c=!b;if(b!==a){if(!v(a,this.Tg))throw y.apply(b=new y,c?[this.constructor,1,"icon"]:[this.setPosition,0,a]),b;this.icon=a;c||this.C(oc.VISUAL)}return this};
Ug.prototype.setIcon=Ug.prototype.Qc;function Vg(a){var b=a.Ni;b||(b=a.constructor.prototype.Ni=a.og(Wg));return b}
var Wg={qi:'<svg xmlns="http://www.w3.org/2000/svg" width="28px" height="36px"><path d="M 19 31 C 19 32.7 16.3 34 13 34 C 9.7 34 7 32.7 7 31 C 7 29.3 9.7 28 13 28 C 16.3 28 19 29.3 19 31 Z" fill="#000" fill-opacity=".2"/><path d="M 13 0 C 9.5 0 6.3 1.3 3.8 3.8 C 1.4 7.8 0 9.4 0 12.8 C 0 16.3 1.4 19.5 3.8 21.9 L 13 31 L 22.2 21.9 C 24.6 19.5 25.9 16.3 25.9 12.8 C 25.9 9.4 24.6 6.1 22.1 3.8 C 19.7 1.3 16.5 0 13 0 Z" fill="#fff"/><path d="M 13 2.2 C 6 2.2 2.3 7.2 2.1 12.8 C 2.1 16.1 3.1 18.4 5.2 20.5 L 13 28.2 L 20.8 20.5 C 22.9 18.4 23.8 16.2 23.8 12.8 C 23.6 7.07 20 2.2 13 2.2 Z" fill="#18d"/></svg>',size:new of(28,
36),anchor:new J(14,32),hitArea:new qf(2,[0,16,0,7,8,0,18,0,26,7,26,16,18,34,8,34])};function vf(a,b){vf.a.constructor.call(this,a,b)}r(vf,Ug);q("H.map.DomMarker",vf);vf.prototype.type=qd.DOM_MARKER;vf.prototype.mc=2;vf.prototype.og=function(a){var b=new Rg(a.qi,a);a=a.anchor;b.yg.style.margin=-a.y+"px 0 0 -"+a.x+"px";return b};vf.prototype.Tg=Rg;function uf(a,b){uf.a.constructor.call(this,a,b)}r(uf,Ug);q("H.map.Marker",uf);p=uf.prototype;p.type=qd.MARKER;p.mc=1;p.C=function(a){var b;if(a!==oc.VISUAL||1===this.Dh||1===this.icon.getState())b=uf.a.C.call(this,a);return b||!1};p.Dh=0;p.Tg=T;p.Ue=!1;p.xh=function(){this.C(oc.VISUAL)};
p.Qc=function(a){var b=this.icon;this.Ue&&(b.removeEventListener("statechange",this.xh,!1,this),delete this.Ue);b&&(this.Dh=b.getState());uf.a.Qc.call(this,a);0===a.getState()&&(this.Ue=!0,ke(a,"statechange",this.xh,!1,this));return this};uf.prototype.setIcon=uf.prototype.Qc;uf.prototype.og=function(a){return new T(a.qi,a)};function Xg(a){if(!a||!da(a.requestData))throw new y(Xg,0,"options.requestData");Xg.a.constructor.call(this,a);this.zk=a.requestData;this.nk=!!a.providesDomMarkers||!1}r(Xg,S);q("H.map.provider.MarkerTileProvider",Xg);Xg.prototype.Sd=function(a,b,c,d,e){var f=this;return this.zk(a,b,c,function(e){for(var h=[],k,l,m=e.length;m--;)l=e[m],l.Jk=f.getTileKey(a,b,c),l.U(f),k=l.icon,(v(l,vf)||k.getState()===k.dg.READY)&&h.push(e[m]);d(h)},e)};Xg.prototype.requestInternal=Xg.prototype.Sd;
Xg.prototype.kb=function(a,b){var c;b!==oc.NONE&&((c=this.Jg().get(a.Jk))&&(c.valid=!1),this.V())};Xg.prototype.invalidateObject=Xg.prototype.kb;Xg.prototype.Lc=function(){return this.nk};Xg.prototype.providesDomMarkers=Xg.prototype.Lc;function Yg(a,b){Yg.a.constructor.call(this,a,b)}r(Yg,Ze);q("H.map.layer.MarkerTileLayer",Yg);var Zg={markers:[],total:0,requested:0};function $g(a,b,c,d,e){var f;f=fb(c);a.pixelProjection.F(f);b=a.od(b);f=a.Bc(b,f);c=a.yc(f,f.left>f.right,~~c,d,e);a=c.tiles;c=c.total;d=a.length;e=[];var g;for(g=0;g<d;g++)for(f=a[g],b=f.data.length;b--;)e.push(f.data[b]);return{markers:e,total:a.length,requested:c}}Yg.prototype.zb=function(a,b,c,d){return this.k.providesDomMarkers()?Zg:$g(this,a,b,c,d)};
Yg.prototype.requestMarkers=Yg.prototype.zb;Yg.prototype.yb=function(a,b,c,d){return this.k.providesDomMarkers()?$g(this,a,b,c,d):Zg};Yg.prototype.requestDomMarkers=Yg.prototype.yb;var H=pa.H||{};q("H.buildInfo",function(){return Zd("mapsjs-core","0.8.0","f750315333baf7556bb391dde881c15e9b6d84ed")});
;this['mapsjs'] = H;}());